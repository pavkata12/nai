import{J as a,r as e,z as l,o as s,c as t,e as i,f as o,h as n,t as r,j as c,l as u,A as d,E as p,B as m,F as g,y as v,n as f,x as b}from"./vendor-aa0ffa31.js";import{_,u as k,a as y}from"./index-c9e88ec7.js";const h={class:"booking-page"},S={class:"hero"},T={class:"container hero-content"},I={class:"hero-text"},R={class:"hero-title animate__animated animate__fadeInUp"},P={class:"hero-subtitle animate__animated animate__fadeInUp animate__delay-1s"},U={key:0,class:"selected-plan-indicator animate__animated animate__fadeInUp animate__delay-2s"},w={class:"booking-form-section section-padding"},x={class:"container"},V={class:"form-card animate__animated animate__fadeInUp"},q={class:"card-header"},B={class:"card-title"},C={class:"card-content"},M={class:"form-grid"},E={class:"form-group"},j={class:"form-label"},H=["placeholder"],N={class:"form-group"},X={class:"form-label"},A={class:"form-group"},D={class:"form-label"},F={class:"form-card animate__animated animate__fadeInUp animate__delay-1s"},O={class:"card-header"},K={class:"card-title"},z={class:"card-content"},G={class:"form-grid"},J={class:"form-group"},Q={class:"form-label"},$=["min"],L={class:"form-group"},W={class:"form-label"},Y={value:""},Z=["value"],aa={class:"form-group"},ea={class:"form-label"},la={value:""},sa={value:"0.25"},ta={value:"0.5"},ia={value:"1"},oa={value:"2"},na={value:"3"},ra={value:"4"},ca={value:"6"},ua={class:"form-card animate__animated animate__fadeInUp animate__delay-2s"},da={class:"card-header"},pa={class:"card-title"},ma={class:"card-content"},ga={class:"booking-types-grid"},va=["onClick"],fa={class:"type-icon"},ba={class:"type-name"},_a={class:"type-description"},ka={class:"type-price"},ya={class:"form-card animate__animated animate__fadeInUp animate__delay-3s"},ha={class:"card-header"},Sa={class:"card-title"},Ta={class:"card-content"},Ia={class:"simulators-grid"},Ra=["onClick"],Pa={class:"simulator-status"},Ua={class:"simulator-features"},wa={key:0,class:"feature-badge motion-badge"},xa={key:1,class:"feature-badge vr-badge"},Va={class:"simulator-content"},qa={class:"simulator-name"},Ba={class:"simulator-specs"},Ca={class:"spec-item"},Ma={class:"spec-item"},Ea={class:"spec-item"},ja={class:"simulator-description"},Ha={key:0,class:"selection-indicator"},Na={class:"form-card animate__animated animate__fadeInUp animate__delay-4s"},Xa={class:"card-content"},Aa={class:"form-group"},Da={key:0,class:"form-card price-card animate__animated animate__fadeInUp animate__delay-5s"},Fa={class:"card-content"},Oa={class:"price-breakdown"},Ka={class:"price-line"},za={class:"price-amount"},Ga={key:0,class:"price-line"},Ja={class:"price-amount"},Qa={class:"total-price"},$a={class:"total-amount"},La={class:"form-actions animate__animated animate__fadeInUp animate__delay-6s"},Wa=["disabled"],Ya={key:0,class:"fas fa-spinner fa-spin"},Za={key:1,class:"fas fa-calendar-check"},ae={key:0,class:"modal-overlay"},ee={class:"modal-content animate__animated animate__bounceIn"},le={class:"modal-text"};const se=_({name:"Booking",setup(){const t=a(),i=k(),o=e({name:"",phone:"",email:"",date:"",startTime:"",duration:"",type:"standard",computerId:null,specialRequests:""}),n=e(!1),r=e(!1),c=e(30),u=l(()=>(new Date).toISOString().split("T")[0]),d=e(["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00"]),p=e([{id:"standard",name:"Standard",description:"Стандартен опит",icon:"🏁",multiplier:1},{id:"vip",name:"VIP",description:"VIP опит с инструктор",icon:"👑",multiplier:1.5},{id:"group",name:"Група",description:"Групова резервация",icon:"👥",multiplier:1.2},{id:"endurance",name:"Endurance",description:"Дълги състезания",icon:"⏱️",multiplier:1.3}]),m=e([]),g=e(!1),v=async()=>{g.value=!0;try{const a=await y.get("/api/simulators/available");a.data.success&&(m.value=a.data.simulators)}catch(a){m.value=[{id:1,name:"Elite Racing Rig Pro",description:"Професионален симулатор с motion platform и VR поддръжка",specs:'RTX 4090, Triple 32" 4K монитори, Direct Drive wheel base',gpu:"RTX 4090",setup_type:"motion",has_motion:1,has_vr:1,screen_setup:"triple",image_url:"/simulators/elite-rig-pro.jpg",status:"available"},{id:2,name:"VIP Racing Cockpit",description:"VIP симулатор с професионални компоненти",specs:'RTX 4080 Super, Triple 27" QHD монитори',gpu:"RTX 4080 Super",setup_type:"full_set",has_motion:0,has_vr:1,screen_setup:"triple",image_url:"/simulators/vip-cockpit.jpg",status:"available"},{id:3,name:"Racing Simulator Alpha",description:"Висококласен симулатор с ultrawide монитор",specs:'RTX 4070 Ti, 49" Ultrawide 5120x1440',gpu:"RTX 4070 Ti",setup_type:"full_set",has_motion:0,has_vr:1,screen_setup:"ultrawide",image_url:"/simulators/alpha-sim.jpg",status:"available"}]}finally{g.value=!1}},f=l(()=>p.value.find(a=>a.id===o.value.type)),b=l(()=>o.value.duration?parseInt(o.value.duration)*c.value:0),_=l(()=>f.value?(b.value*f.value.multiplier).toFixed(2):b.value),h=l(()=>o.value.name&&o.value.phone&&o.value.date&&o.value.startTime&&o.value.duration&&o.value.computerId&&!n.value),S=l(()=>({tester:"TESTER",rookie:"ROOKIE",racer:"RACER"}[t.query.plan]||null));s(()=>{v(),(()=>{const a=t.query.plan;if(a)switch(a){case"tester":o.value.duration="0.25";break;case"rookie":o.value.duration="0.5";break;case"racer":o.value.duration="1"}})()});return{languageStore:i,booking:o,loading:n,showSuccessModal:r,today:u,availableTimes:d,bookingTypes:p,simulators:m,selectedBookingType:f,selectedPlanName:S,basePrice:b,totalPrice:_,pricePerHour:c,canSubmit:h,calculatePrice:()=>{},submitBooking:async()=>{if(h.value){n.value=!0;try{const a={name:o.value.name,phone:o.value.phone,email:o.value.email,date:o.value.date,start_time:o.value.startTime,duration_hours:parseInt(o.value.duration),booking_type:o.value.type,computer_id:o.value.computerId,special_requests:o.value.specialRequests,total_price:parseFloat(_.value)};(await y.post("/api/bookings",a)).data.success&&(r.value=!0,o.value={name:"",phone:"",email:"",date:"",startTime:"",duration:"",type:"standard",computerId:null,specialRequests:""})}catch(a){alert("Грешка при изпращане на резервацията. Моля опитайте отново.")}finally{n.value=!1}}},closeSuccessModal:()=>{r.value=!1},loadSimulators:v,getScreenSetupText:a=>({single:"Single Screen",triple:"Triple Screen",ultrawide:"Ultrawide",vr:"VR Headset"}[a]||a),getSetupTypeText:a=>({wheel_only:"Само волан",full_set:"Пълен сет",motion:"Motion Platform"}[a]||a)}}},[["render",function(a,e,l,s,_,k){return t(),i("div",h,[o("section",S,[e[12]||(e[12]=o("div",{class:"hero-overlay"},null,-1)),o("div",T,[o("div",I,[o("h1",R,[n(r(s.languageStore.t("bookingTitle").toUpperCase())+" ",1),e[10]||(e[10]=o("span",{class:"hero-title-accent"},"SIM RACING",-1))]),o("p",P,r(s.languageStore.t("bookingSubtitle")),1),s.selectedPlanName?(t(),i("div",U,[e[11]||(e[11]=o("i",{class:"fas fa-check-circle"},null,-1)),n(" "+r(s.languageStore.t("selectedPlan"))+": ",1),o("strong",null,r(s.selectedPlanName),1)])):c("",!0)])])]),o("section",w,[o("div",x,[o("form",{onSubmit:e[8]||(e[8]=u((...a)=>s.submitBooking&&s.submitBooking(...a),["prevent"])),class:"booking-form"},[o("div",V,[o("div",q,[o("h3",B,[e[13]||(e[13]=o("i",{class:"fas fa-user"},null,-1)),n(" "+r(s.languageStore.t("personalInfo")),1)])]),o("div",C,[o("div",M,[o("div",E,[o("label",j,[e[14]||(e[14]=o("i",{class:"fas fa-user"},null,-1)),n(" "+r(s.languageStore.t("fullName"))+" * ",1)]),d(o("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>s.booking.name=a),type:"text",required:"",class:"form-input",placeholder:s.languageStore.t("enterName")},null,8,H),[[p,s.booking.name]])]),o("div",N,[o("label",X,[e[15]||(e[15]=o("i",{class:"fas fa-phone"},null,-1)),n(" "+r(s.languageStore.t("phone"))+" * ",1)]),d(o("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>s.booking.phone=a),type:"tel",required:"",class:"form-input",placeholder:"0888 123 456"},null,512),[[p,s.booking.phone]])])]),o("div",A,[o("label",D,[e[16]||(e[16]=o("i",{class:"fas fa-envelope"},null,-1)),n(" "+r(s.languageStore.t("email")),1)]),d(o("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>s.booking.email=a),type:"email",class:"form-input",placeholder:"your@email.com"},null,512),[[p,s.booking.email]])])])]),o("div",F,[o("div",O,[o("h3",K,[e[17]||(e[17]=o("i",{class:"fas fa-calendar"},null,-1)),n(" "+r(s.languageStore.t("dateAndTime")),1)])]),o("div",z,[o("div",G,[o("div",J,[o("label",Q,[e[18]||(e[18]=o("i",{class:"fas fa-calendar-alt"},null,-1)),n(" "+r(s.languageStore.t("date"))+" * ",1)]),d(o("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>s.booking.date=a),type:"date",required:"",min:s.today,class:"form-input"},null,8,$),[[p,s.booking.date]])]),o("div",L,[o("label",W,[e[19]||(e[19]=o("i",{class:"fas fa-clock"},null,-1)),n(" "+r(s.languageStore.t("startTime"))+" * ",1)]),d(o("select",{"onUpdate:modelValue":e[4]||(e[4]=a=>s.booking.startTime=a),required:"",class:"form-input"},[o("option",Y,r(s.languageStore.t("selectHour")),1),(t(!0),i(g,null,v(s.availableTimes,a=>(t(),i("option",{key:a,value:a},r(a),9,Z))),128))],512),[[m,s.booking.startTime]])]),o("div",aa,[o("label",ea,[e[20]||(e[20]=o("i",{class:"fas fa-hourglass-half"},null,-1)),n(" "+r(s.languageStore.t("duration"))+" * ",1)]),d(o("select",{"onUpdate:modelValue":e[5]||(e[5]=a=>s.booking.duration=a),required:"",onChange:e[6]||(e[6]=(...a)=>s.calculatePrice&&s.calculatePrice(...a)),class:"form-input"},[o("option",la,r(s.languageStore.t("selectHours")),1),o("option",sa,"15 "+r(s.languageStore.t("minutes")),1),o("option",ta,"30 "+r(s.languageStore.t("minutes")),1),o("option",ia,"1 "+r(s.languageStore.t("hour")),1),o("option",oa,"2 "+r(s.languageStore.t("hours2")),1),o("option",na,"3 "+r(s.languageStore.t("hours2")),1),o("option",ra,"4 "+r(s.languageStore.t("hours2")),1),o("option",ca,"6 "+r(s.languageStore.t("hours2")),1)],544),[[m,s.booking.duration]])])])])]),o("div",ua,[o("div",da,[o("h3",pa,[e[21]||(e[21]=o("i",{class:"fas fa-star"},null,-1)),n(" "+r(s.languageStore.t("bookingType")),1)])]),o("div",ma,[o("div",ga,[(t(!0),i(g,null,v(s.bookingTypes,a=>(t(),i("div",{key:a.id,onClick:e=>{s.booking.type=a.id,s.calculatePrice()},class:f(["booking-type-card",{selected:s.booking.type===a.id}])},[o("div",fa,r(a.icon),1),o("div",ba,r(a.name),1),o("div",_a,r(a.description),1),o("div",ka,"+"+r(Math.round(100*(a.multiplier-1)))+"%",1)],10,va))),128))])])]),o("div",ya,[o("div",ha,[o("h3",Sa,[e[22]||(e[22]=o("i",{class:"fas fa-desktop"},null,-1)),n(" "+r(s.languageStore.t("selectSimulator"))+" * ",1)])]),o("div",Ta,[o("div",Ia,[(t(!0),i(g,null,v(s.simulators,a=>(t(),i("div",{key:a.id,onClick:e=>s.booking.computerId=a.id,class:f(["simulator-card",{selected:s.booking.computerId===a.id}])},[o("div",{class:"simulator-image",style:b(a.image_url?`background-image: url('${a.image_url}')`:"")},[o("div",Pa,[o("span",{class:f(["status-badge","available"===a.status?"status-available":"status-unavailable"])},r("available"===a.status?s.languageStore.t("available"):s.languageStore.t("unavailable")),3)]),o("div",Ua,[a.has_motion?(t(),i("span",wa,"Motion")):c("",!0),a.has_vr?(t(),i("span",xa,"VR")):c("",!0)])],4),o("div",Va,[o("h4",qa,r(a.name),1),o("div",Ba,[o("div",Ca,[e[23]||(e[23]=o("i",{class:"fas fa-microchip"},null,-1)),n(" "+r(a.gpu),1)]),o("div",Ma,[e[24]||(e[24]=o("i",{class:"fas fa-tv"},null,-1)),n(" "+r(s.getScreenSetupText(a.screen_setup)),1)]),o("div",Ea,[e[25]||(e[25]=o("i",{class:"fas fa-cogs"},null,-1)),n(" "+r(s.getSetupTypeText(a.setup_type)),1)])]),o("p",ja,r(a.description),1)]),s.booking.computerId===a.id?(t(),i("div",Ha,e[26]||(e[26]=[o("i",{class:"fas fa-check"},null,-1)]))):c("",!0)],10,Ra))),128))])])]),o("div",Na,[e[27]||(e[27]=o("div",{class:"card-header"},[o("h3",{class:"card-title"},[o("i",{class:"fas fa-comment"}),n(" Специални изисквания ")])],-1)),o("div",Xa,[o("div",Aa,[d(o("textarea",{"onUpdate:modelValue":e[7]||(e[7]=a=>s.booking.specialRequests=a),rows:"4",class:"form-textarea",placeholder:"Напишете специални изисквания, предпочитания за игри, настройки и т.н."},null,512),[[p,s.booking.specialRequests]])])])]),s.totalPrice>0?(t(),i("div",Da,[e[29]||(e[29]=o("div",{class:"card-header"},[o("h3",{class:"card-title"},[o("i",{class:"fas fa-calculator"}),n(" Обща цена ")])],-1)),o("div",Fa,[o("div",Oa,[o("div",Ka,[o("span",null,r(s.booking.duration)+" час(а) × "+r(s.pricePerHour)+"лв.",1),o("span",za,r(s.basePrice)+"лв.",1)]),s.selectedBookingType&&s.selectedBookingType.multiplier>1?(t(),i("div",Ga,[o("span",null,r(s.selectedBookingType.name)+" (+"+r(Math.round(100*(s.selectedBookingType.multiplier-1)))+"%)",1),o("span",Ja,"+"+r((s.basePrice*(s.selectedBookingType.multiplier-1)).toFixed(2))+"лв.",1)])):c("",!0)]),o("div",Qa,[e[28]||(e[28]=o("span",{class:"total-label"},"Общо:",-1)),o("span",$a,r(s.totalPrice)+"лв.",1)])])])):c("",!0),o("div",La,[o("button",{type:"submit",disabled:s.loading||!s.canSubmit,class:"btn-primary submit-btn"},[s.loading?(t(),i("i",Ya)):(t(),i("i",Za)),n(" "+r(s.loading?"Обработва се...":"Резервирай сега"),1)],8,Wa)])],32)])]),s.showSuccessModal?(t(),i("div",ae,[o("div",ee,[e[30]||(e[30]=o("div",{class:"modal-icon"},"🎉",-1)),e[31]||(e[31]=o("h3",{class:"modal-title"},"Резервацията е изпратена!",-1)),o("p",le," Вашата резервация за "+r(s.booking.date)+" в "+r(s.booking.startTime)+" е получена. Ще се свържем с вас скоро за потвърждение. ",1),o("button",{onClick:e[9]||(e[9]=(...a)=>s.closeSuccessModal&&s.closeSuccessModal(...a)),class:"btn-primary modal-btn"}," Затвори ")])])):c("",!0)])}],["__scopeId","data-v-b49b7424"]]);export{se as default};
