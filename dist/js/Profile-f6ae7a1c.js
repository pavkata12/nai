import{_ as a,b as e,u as s}from"./index-c9e88ec7.js";import{r as i,z as n,o as l,c as t,e as c,f as r,h as o,t as d,x as u,n as v,F as m,y as f,j as p}from"./vendor-aa0ffa31.js";const g={class:"profile-page"},h={class:"page-header"},x={class:"container mx-auto px-4 py-8"},k={class:"header-content"},S={class:"page-title"},P={class:"page-subtitle"},y={class:"container mx-auto px-4 py-8"},D={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},X={class:"lg:col-span-1"},T={class:"user-card"},b={class:"user-avatar-section"},w={class:"user-name"},_={class:"quick-stats"},I={class:"stat-item"},M={class:"stat-content"},N={class:"stat-value"},R={class:"stat-item"},U={class:"stat-content"},j={class:"stat-value"},A={class:"stat-label"},C={class:"stat-item"},O={class:"stat-content"},E={class:"stat-value"},G={class:"stat-label"},H={class:"stat-item"},q={class:"stat-content"},z={class:"stat-value"},B={class:"stat-label"},F={class:"lg:col-span-2 space-y-8"},L={class:"progress-card"},$={class:"card-header"},J={class:"card-title"},K={class:"progress-content"},Q={class:"tier-progression"},V={class:"current-tier"},W={class:"next-tier"},Y={class:"progress-bar-container"},Z={class:"progress-bar"},aa={class:"progress-text"},ea={class:"xp-remaining"},sa={class:"sessions-card"},ia={class:"card-header"},na={class:"card-title"},la={class:"sessions-list"},ta={class:"session-info"},ca={class:"session-date"},ra={class:"session-duration"},oa={class:"session-rewards"},da={class:"reward-item xp"},ua={class:"reward-item tokens"},va={key:0,class:"empty-sessions"},ma={class:"achievements-card"},fa={class:"card-header"},pa={class:"card-title"},ga={class:"achievement-progress"},ha={class:"achievements-grid"},xa=["title"],ka={class:"achievement-icon"},Sa={class:"achievement-info"},Pa={class:"achievement-name"},ya={class:"achievement-description"},Da={key:0,class:"achievement-badge"};const Xa=a({name:"Profile",setup(){const a=e(),t=s(),c=i([]),r=n(()=>a.user),o=[{name:"Rookie",multiplier:1,color:"#666666",icon:"fas fa-user",minXP:0,maxXP:49},{name:"Novice",multiplier:1.2,color:"#0088ff",icon:"fas fa-user-plus",minXP:50,maxXP:149},{name:"Intermediate",multiplier:1.4,color:"#ff8800",icon:"fas fa-user-graduate",minXP:150,maxXP:449},{name:"Pro",multiplier:1.6,color:"#ff0088",icon:"fas fa-user-tie",minXP:450,maxXP:999},{name:"Elite",multiplier:1.8,color:"#8800ff",icon:"fas fa-crown",minXP:1e3,maxXP:1599},{name:"Unreal",multiplier:2,color:"#00A19C",icon:"fas fa-star",minXP:1600,maxXP:1/0}],d=n(()=>{var a;const e=(null==(a=r.value)?void 0:a.xp)||0;return o.find(a=>e>=a.minXP&&e<=a.maxXP)||o[0]}),u=n(()=>{const a=o.findIndex(a=>a.name===d.value.name);return a<o.length-1?o[a+1]:d.value}),v=n(()=>{var a;return(null==(a=r.value)?void 0:a.total_time_played)?Math.floor(r.value.total_time_played/60):0}),m=n(()=>{var a;const e=(null==(a=r.value)?void 0:a.xp)||0,s=d.value,i=u.value;if(s.name===i.name)return 100;const n=(e-s.minXP)/(i.minXP-s.minXP);return Math.min(Math.max(100*n,0),100)}),f=n(()=>{var a;const e=(null==(a=r.value)?void 0:a.xp)||0,s=u.value;return d.value.name===s.name?0:Math.max(s.minXP-e,0)}),p=n(()=>{var a,e;return[{id:1,name:"Първа стъпка",description:"Завърши първата си сесия",icon:"fas fa-play",unlocked:v.value>0},{id:2,name:"Новобранец",description:"Достигни Novice ниво",icon:"fas fa-star",unlocked:"Rookie"!==d.value.name},{id:3,name:"Упорит",description:"Изиграй 10 часа",icon:"fas fa-clock",unlocked:v.value>=10},{id:4,name:"Колекционер",description:"Събери 1000 токена",icon:"fas fa-coins",unlocked:((null==(a=r.value)?void 0:a.tokens)||0)>=1e3},{id:5,name:"Професионал",description:"Достигни Pro ниво",icon:"fas fa-trophy",unlocked:["Pro","Elite","Unreal"].includes(d.value.name)},{id:6,name:"Легенда",description:"Достигни Unreal ниво",icon:"fas fa-crown",unlocked:"Unreal"===d.value.name},{id:7,name:"Маратонец",description:"Изиграй 100 часа",icon:"fas fa-running",unlocked:v.value>=100},{id:8,name:"Богаташ",description:"Събери 10000 токена",icon:"fas fa-gem",unlocked:((null==(e=r.value)?void 0:e.tokens)||0)>=1e4}]}),g=n(()=>p.value.filter(a=>a.unlocked).length),h=async()=>{c.value=[{id:1,date:(new Date).toISOString(),duration:60,xp:100,tokens:120},{id:2,date:new Date(Date.now()-864e5).toISOString(),duration:45,xp:75,tokens:90},{id:3,date:new Date(Date.now()-1728e5).toISOString(),duration:30,xp:50,tokens:60}]};return l(()=>{h()}),{languageStore:t,user:r,currentTierData:d,nextTierData:u,playedHours:v,progressPercent:m,xpToNext:f,achievements:p,unlockedAchievements:g,recentSessions:c,loadRecentSessions:h,formatDate:a=>{const e=new Date(a),s=new Date,i=Math.abs(s-e),n=Math.ceil(i/864e5);return 1===n?"Днес":2===n?"Вчера":n<=7?`Преди ${n-1} дни`:e.toLocaleDateString("bg-BG")}}}},[["render",function(a,e,s,i,n,l){var Xa,Ta,ba,wa;return t(),c("div",g,[r("div",h,[r("div",x,[r("div",k,[r("h1",S,[e[1]||(e[1]=r("i",{class:"fas fa-user-circle"},null,-1)),o(" "+d(i.languageStore.t("myProfile")),1)]),r("p",P,d(i.languageStore.t("profileSubtitle")),1)])])]),r("div",y,[r("div",D,[r("div",X,[r("div",T,[r("div",b,[e[2]||(e[2]=r("div",{class:"user-avatar"},[r("i",{class:"fas fa-user-circle"})],-1)),r("h2",w,d((null==(Xa=i.user)?void 0:Xa.username)||"Guest"),1),r("div",{class:"user-tier-badge",style:u({backgroundColor:i.currentTierData.color})},[r("i",{class:v(i.currentTierData.icon)},null,2),r("span",null,d(i.currentTierData.name),1)],4)]),r("div",_,[r("div",I,[e[4]||(e[4]=r("div",{class:"stat-icon"},[r("i",{class:"fas fa-star"})],-1)),r("div",M,[r("div",N,d((null==(Ta=i.user)?void 0:Ta.xp)||0),1),e[3]||(e[3]=r("div",{class:"stat-label"},"XP",-1))])]),r("div",R,[e[5]||(e[5]=r("div",{class:"stat-icon"},[r("i",{class:"fas fa-coins"})],-1)),r("div",U,[r("div",j,d((null==(ba=i.user)?void 0:ba.tokens)||0),1),r("div",A,d(i.languageStore.t("tokens")),1)])]),r("div",C,[e[6]||(e[6]=r("div",{class:"stat-icon"},[r("i",{class:"fas fa-clock"})],-1)),r("div",O,[r("div",E,d(i.playedHours),1),r("div",G,d(i.languageStore.t("hours")),1)])]),r("div",H,[e[7]||(e[7]=r("div",{class:"stat-icon"},[r("i",{class:"fas fa-chart-line"})],-1)),r("div",q,[r("div",z,d(i.currentTierData.multiplier)+"x",1),r("div",B,d(i.languageStore.t("multiplier")),1)])])])])]),r("div",F,[r("div",L,[r("div",$,[r("h3",J,[e[8]||(e[8]=r("i",{class:"fas fa-chart-line"},null,-1)),o(" "+d(i.languageStore.t("progressToNext")),1)])]),r("div",K,[r("div",Q,[r("div",V,[r("i",{class:v(i.currentTierData.icon),style:u({color:i.currentTierData.color})},null,6),r("span",null,d(i.currentTierData.name),1)]),e[9]||(e[9]=r("div",{class:"progress-arrow"},[r("i",{class:"fas fa-arrow-right"})],-1)),r("div",W,[r("i",{class:v(i.nextTierData.icon),style:u({color:i.nextTierData.color})},null,6),r("span",null,d(i.nextTierData.name),1)])]),r("div",Y,[r("div",Z,[r("div",{class:"progress-fill",style:u({width:i.progressPercent+"%"})},null,4)]),r("div",aa,[r("span",null,d((null==(wa=i.user)?void 0:wa.xp)||0)+" / "+d(i.nextTierData.minXP)+" XP",1),r("span",ea,d(i.xpToNext)+" "+d(i.languageStore.t("xpToNext"))+" "+d(i.nextTierData.name),1)])])])]),r("div",sa,[r("div",ia,[r("h3",na,[e[10]||(e[10]=r("i",{class:"fas fa-history"},null,-1)),o(" "+d(i.languageStore.t("recentSessions")),1)]),r("button",{class:"refresh-btn",onClick:e[0]||(e[0]=(...a)=>i.loadRecentSessions&&i.loadRecentSessions(...a))},[e[11]||(e[11]=r("i",{class:"fas fa-sync-alt"},null,-1)),o(" "+d(i.languageStore.t("refresh")),1)])]),r("div",la,[(t(!0),c(m,null,f(i.recentSessions,a=>(t(),c("div",{key:a.id,class:"session-item"},[r("div",ta,[r("div",ca,d(i.formatDate(a.date)),1),r("div",ra,[e[12]||(e[12]=r("i",{class:"fas fa-clock"},null,-1)),o(" "+d(a.duration)+" "+d(i.languageStore.t("minutes")),1)])]),r("div",oa,[r("div",da,[e[13]||(e[13]=r("i",{class:"fas fa-star"},null,-1)),o(" +"+d(a.xp)+" XP ",1)]),r("div",ua,[e[14]||(e[14]=r("i",{class:"fas fa-coins"},null,-1)),o(" +"+d(a.tokens),1)])])]))),128)),0===i.recentSessions.length?(t(),c("div",va,[e[15]||(e[15]=r("i",{class:"fas fa-calendar-times"},null,-1)),r("span",null,d(i.languageStore.t("noSessions")),1)])):p("",!0)])]),r("div",ma,[r("div",fa,[r("h3",pa,[e[16]||(e[16]=r("i",{class:"fas fa-trophy"},null,-1)),o(" "+d(i.languageStore.t("achievements")),1)]),r("div",ga,d(i.unlockedAchievements)+"/"+d(i.achievements.length)+" "+d(i.languageStore.t("achievementsUnlocked")),1)]),r("div",ha,[(t(!0),c(m,null,f(i.achievements,a=>(t(),c("div",{key:a.id,class:v(["achievement-item",{unlocked:a.unlocked}]),title:a.description},[r("div",ka,[r("i",{class:v(a.icon)},null,2)]),r("div",Sa,[r("div",Pa,d(a.name),1),r("div",ya,d(a.description),1)]),a.unlocked?(t(),c("div",Da,e[17]||(e[17]=[r("i",{class:"fas fa-check"},null,-1)]))):p("",!0)],10,xa))),128))])])])])])])}],["__scopeId","data-v-375ac1b8"]]);export{Xa as default};
