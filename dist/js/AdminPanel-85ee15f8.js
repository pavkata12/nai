import{c as a,e,f as s,I as l,l as t,r as o,D as i,o as n,b as c,g as r,w as d,k as u,F as m,y as p,h as v,t as f,j as y,n as b,A as g,E as k,B as h,H as C,x as _}from"./vendor-aa0ffa31.js";import{_ as w,b as F,n as T}from"./index-c9e88ec7.js";const x={class:"modal-header"},S={class:"modal-body"},U={class:"modal-footer"};const A=w({name:"Modal",emits:["close"]},[["render",function(o,i,n,c,r,d){return a(),e("div",{class:"modal-overlay",onClick:i[2]||(i[2]=a=>o.$emit("close"))},[s("div",{class:"modal-container",onClick:i[1]||(i[1]=t(()=>{},["stop"]))},[s("div",x,[l(o.$slots,"header",{},void 0,!0),s("button",{class:"modal-close",onClick:i[0]||(i[0]=a=>o.$emit("close"))},i[3]||(i[3]=[s("i",{class:"fas fa-times"},null,-1)]))]),s("div",S,[l(o.$slots,"body",{},void 0,!0)]),s("div",U,[l(o.$slots,"footer",{},void 0,!0)])])])}],["__scopeId","data-v-d8684f1b"]]),I={name:"AdminPanel",components:{Modal:A},setup(){const a=F(),e=o("posts"),s=i({posts:!1,tournaments:!1,bookings:!1,simulators:!1,shop:!1,users:!1,academy:!1,academyCategories:!1,stats:!1}),l=i({posts:null,tournaments:null,bookings:null,simulators:null,shop:null,users:null,academy:null,academyCategories:null,stats:null}),t=o([]),c=o([]),r=o([]),d=o([]),u=o([]),m=o([]),p=o([]),v=o([]),f=o({}),y=o(!1),b=o(!1),g=o(!1),k=o(!1),h=o(!1),C=o(!1),_=o(!1),w=o(!1),x=o(null),S=o(null),U=o(null),A=o(null),I=o(null),P=o(null),V=o(null),q=o(null),$=o([]),R=o(!1),z=o(!1),D=o(!1),B=o(!1),L=o(!1),M=o(!1),E=o(!1),j=o(!1),H=i({title:"",content:"",category:"news",featured:!1}),N=i({name:"",description:"",date:"",time:"",prize:0,entry_fee:0,maxParticipants:8,status:"upcoming",image_url:"",featured:!1,game_type:"racing",difficulty:"medium"}),G=i({name:"",description:"",specs:"",gpu:"",setup_type:"full_set",has_motion:!1,has_vr:!1,screen_setup:"single",image_url:"",status:"available"}),O=i({title:"",description:"",category:"experience",price:0,icon:"🎁",stock:-1,is_active:!0,image_url:"",popular:!1,premium:!1,limited:!1,features:"",original_price:0,discount:0}),X=i({amount:0,description:""}),Y=i({title:"",description:"",price_tokens:0,thumbnail_url:"",youtube_url:"",duration:"",difficulty:"beginner",category_id:null,is_active:!0}),K=i({name:"",description:"",icon:"fas fa-graduation-cap"}),J=o([{id:"posts",name:"Новини",icon:"fas fa-newspaper"},{id:"tournaments",name:"Турнири",icon:"fas fa-trophy"},{id:"bookings",name:"Резервации",icon:"fas fa-calendar-alt"},{id:"simulators",name:"Симулатори",icon:"fas fa-racing-gear"},{id:"shop",name:"Магазин",icon:"fas fa-store"},{id:"users",name:"Потребители",icon:"fas fa-users"},{id:"academy",name:"Академия",icon:"fas fa-graduation-cap"},{id:"stats",name:"Статистики",icon:"fas fa-chart-bar"}]),Q=async()=>{s.posts=!0,l.posts=null;try{const a=await T.getPosts();a.success?t.value=a.posts||[]:l.posts=a.error||"Грешка при зареждане на новините"}catch(a){l.posts="Грешка при свързване със сървъра"}finally{s.posts=!1}},W=async()=>{s.shop=!0,l.shop=null;try{const a=await T.getShopItems();a.success?u.value=a.items||[]:l.shop=a.error||"Грешка при зареждане на продуктите"}catch(a){l.shop="Грешка при свързване със сървъра"}finally{s.shop=!1}},Z=async()=>{s.users=!0,l.users=null;try{const a=await T.getUsers();if(a.success){const e=a.users||[];m.value=e.map(a=>{const e=(a.total_time_played||0)/60,s=Math.floor(100*e);let l="Rookie";return s>=1600?l="Unreal":s>=1e3?l="Elite":s>=450?l="Pro":s>=150?l="Intermediate":s>=50&&(l="Novice"),{...a,xp:s,level:l}})}else l.users="Грешка при зареждане на потребителите"}catch(a){l.users="Грешка при свързване със сървъра"}finally{s.users=!1}},aa=async()=>{var a,e,t;s.tournaments=!0,l.tournaments=null;try{const s=await T.getTournaments();if(!s.success)throw new Error(s.error||"Failed to load tournaments");{const l=[...(null==(a=s.tournaments)?void 0:a.active)||[],...(null==(e=s.tournaments)?void 0:e.upcoming)||[],...(null==(t=s.tournaments)?void 0:t.completed)||[]];c.value=l.map(a=>({...a,date:a.date||a.start_date,prize:a.prize||a.prize_pool||a.first_prize,participants:a.registered_participants||a.participants||0}))}}catch(o){l.tournaments="Грешка при зареждане на турнирите: "+o.message}finally{s.tournaments=!1}},ea=async()=>{s.bookings=!0,l.bookings=null;try{const a=await T.get("/admin/bookings");if(!a.success)throw new Error(a.message||"Failed to load bookings");r.value=a.bookings||[]}catch(a){l.bookings="Грешка при зареждане на резервациите: "+a.message}finally{s.bookings=!1}},sa=async()=>{s.simulators=!0,l.simulators=null;try{const a=await T.get("/simulators");if(!a.success)throw new Error(a.message||"Failed to load simulators");d.value=a.simulators||[]}catch(a){l.simulators="Грешка при зареждане на симулаторите: "+a.message}finally{s.simulators=!1}},la=()=>{g.value=!1,U.value=null,G.name="",G.description="",G.specs="",G.gpu="",G.setup_type="full_set",G.has_motion=!1,G.has_vr=!1,G.screen_setup="single",G.image_url="",G.status="available"},ta=async()=>{s.stats=!0,l.stats=null;try{const[a,e]=await Promise.all([T.getStats(),T.getLeaderboard(100)]);if(a.success){const s=a.stats||{};let l=0;e.success&&e.leaderboard&&(l=e.leaderboard.reduce((a,e)=>a+(e.total_time_minutes||0),0)),f.value={...s,total_time:l,real_total_time:l}}else l.stats="Грешка при зареждане на статистиките"}catch(a){l.stats="Грешка при свързване със сървъра"}finally{s.stats=!1}},oa=async()=>{s.academy=!0,l.academy=null;try{const a=await T.getAdminAcademyCourses();a.success?p.value=a.courses||[]:l.academy=a.message||"Грешка при зареждане на курсовете"}catch(a){l.academy="Грешка при свързване със сървъра"}finally{s.academy=!1}},ia=async()=>{s.academyCategories=!0,l.academyCategories=null;try{const a=await T.getAdminAcademyCategories();a.success?v.value=a.categories||[]:l.academyCategories=a.message||"Грешка при зареждане на категориите"}catch(a){l.academyCategories="Грешка при свързване със сървъра"}finally{s.academyCategories=!1}},na=()=>{y.value=!1,x.value=null,H.title="",H.content="",H.category="news",H.featured=!1},ca=()=>{b.value=!1,S.value=null,N.name="",N.description="",N.date="",N.time="",N.prize=0,N.entry_fee=0,N.maxParticipants=8,N.status="upcoming",N.image_url="",N.featured=!1,N.game_type="racing",N.difficulty="medium"},ra=()=>{h.value=!1,V.value=null},da=a=>(null==a?void 0:a.tokens)||0,ua=()=>{k.value=!1,A.value=null,O.title="",O.description="",O.category="experience",O.price=0,O.icon="🎁",O.stock=-1,O.is_active=!0,O.image_url="",O.popular=!1,O.premium=!1,O.limited=!1,O.features="",O.original_price=0,O.discount=0},ma=()=>{_.value=!1,I.value=null,Y.title="",Y.description="",Y.price_tokens=0,Y.thumbnail_url="",Y.youtube_url="",Y.duration="",Y.difficulty="beginner",Y.category_id=null,Y.is_active=!0},pa=()=>{w.value=!1,P.value=null,K.name="",K.description="",K.icon="fas fa-graduation-cap"},va=()=>{switch(e.value){case"posts":Q();break;case"tournaments":aa();break;case"bookings":ea();break;case"simulators":sa();break;case"shop":W();break;case"users":Z();break;case"academy":oa(),ia();break;case"stats":ta()}};n(async()=>{var e;await a.checkAuth(),a.isLoggedIn&&(null==(e=a.user)?void 0:e.is_admin)&&va()});let fa=e.value;const ya=()=>{e.value!==fa&&(fa=e.value,va()),requestAnimationFrame(ya)};return ya(),{authStore:a,activeTab:e,loading:s,error:l,posts:t,tournaments:c,bookings:r,simulators:d,shopItems:u,users:m,academyCourses:p,academyCategories:v,stats:f,showCreatePost:y,showCreateTournament:b,showCreateSimulator:g,showCreateItem:k,showAddTokens:h,showParticipants:C,showCreateAcademyCourse:_,showCreateAcademyCategory:w,editingPost:x,editingTournament:S,editingSimulator:U,editingAcademyCourse:I,editingAcademyCategory:P,selectedUser:V,selectedTournament:q,participants:$,loadingParticipants:R,savingPost:z,savingTournament:D,savingSimulator:B,savingShopItem:L,savingTokens:M,savingAcademyCourse:E,savingAcademyCategory:j,editingShopItem:A,postForm:H,tournamentForm:N,simulatorForm:G,shopItemForm:O,tokenForm:X,academyCourseForm:Y,academyCategoryForm:K,adminTabs:J,editPost:a=>{x.value=a,H.title=a.title,H.content=a.content,H.category=a.category,H.featured=a.featured,y.value=!0},closeCreatePost:na,savePost:async()=>{z.value=!0;try{let a;a=x.value?await T.updatePost(x.value.id,H):await T.createPost(H),a.success?(await Q(),na()):alert("Грешка при запазването: "+a.message)}catch(a){alert("Грешка при запазването на новината")}finally{z.value=!1}},deletePost:async a=>{if(confirm("Сигурни ли сте, че искате да изтриете тази новина?"))try{const e=await T.deletePost(a);e.success?await Q():alert("Грешка при изтриването: "+e.message)}catch(e){alert("Грешка при изтриването на новината")}},editTournament:a=>{S.value=a,N.name=a.name,N.description=a.description;const e=new Date(a.date);N.date=e.toISOString().split("T")[0],N.time=e.toTimeString().slice(0,5),N.prize=a.prize,N.entry_fee=a.entry_fee||0,N.maxParticipants=a.max_participants,N.status=a.status,N.image_url=a.image_url||"",N.featured=a.featured||!1,N.game_type=a.game_type||"racing",N.difficulty=a.difficulty||"medium",b.value=!0},closeCreateTournament:ca,saveTournament:async()=>{var a;D.value=!0;try{const a=`${N.date}T${N.time}:00`,e={name:N.name,description:N.description,date:a,prize:N.prize,entry_fee:N.entry_fee,max_participants:N.maxParticipants,status:N.status,image_url:N.image_url,featured:N.featured,game_type:N.game_type,difficulty:N.difficulty};let s;s=S.value?await T.updateTournament(S.value.id,e):await T.createTournament(e),s.success?(alert(`✅ Турнирът беше ${S.value?"обновен":"създаден"} успешно!`),await aa(),ca()):alert("❌ Грешка при запазването: "+s.message)}catch(e){e.response?alert("❌ Грешка от сървъра: "+((null==(a=e.response.data)?void 0:a.message)||e.response.status)):e.request?alert("❌ Няма връзка със сървъра. Моля, проверете дали backend сървърът работи."):alert("❌ Грешка при запазването на турнира: "+e.message)}finally{D.value=!1}},deleteTournament:async a=>{var e;if(confirm("Сигурни ли сте, че искате да изтриете този турнир?"))try{const e=await T.deleteTournament(a);e.success?(alert("✅ Турнирът беше изтрит успешно!"),await aa()):alert("❌ Грешка при изтриването: "+e.message)}catch(s){s.response?alert("❌ Грешка от сървъра: "+((null==(e=s.response.data)?void 0:e.message)||s.response.status)):s.request?alert("❌ Няма връзка със сървъра. Моля, проверете дали backend сървърът работи."):alert("❌ Грешка при изтриването на турнира: "+s.message)}},editShopItem:a=>{A.value=a,O.title=a.title,O.description=a.description,O.category=a.category,O.price=a.price,O.icon=a.icon,O.stock=a.stock,O.is_active=a.is_active,O.image_url=a.image_url||"",O.popular=a.popular||!1,O.premium=a.premium||!1,O.limited=a.limited||!1,O.features=a.features||"",O.original_price=a.original_price||0,O.discount=a.discount||0,k.value=!0},closeCreateItem:ua,saveShopItem:async()=>{L.value=!0;try{let a;a=A.value?await T.updateShopItem(A.value.id,O):await T.createShopItem(O),a.success?(alert(`✅ Продуктът беше ${A.value?"обновен":"създаден"} успешно!`),await W(),ua()):alert("❌ Грешка при запазването: "+a.message)}catch(a){alert("❌ Грешка при запазването на продукта: "+a.message)}finally{L.value=!1}},deleteShopItem:async a=>{if(confirm("Сигурни ли сте, че искате да изтриете този продукт?"))try{const e=await T.deleteShopItem(a);e.success?(alert("✅ Продуктът беше изтрит успешно!"),await W()):alert("❌ Грешка при изтриването: "+e.message)}catch(e){alert("❌ Грешка при изтриването на продукта: "+e.message)}},viewParticipants:async a=>{q.value=a,$.value=[],C.value=!0,R.value=!0;try{const e=await T.getTournamentParticipants(a.id);e.success?$.value=e.participants||[]:alert("Грешка при зареждането на участниците: "+e.message)}catch(e){alert("Грешка при зареждането на участниците")}finally{R.value=!1}},closeParticipants:()=>{C.value=!1,q.value=null,$.value=[]},getStatusText:a=>({upcoming:"Предстоящ",active:"Активен",completed:"Завършен"}[a]||a),getBookingStatusText:a=>({pending:"Изчакваща",confirmed:"Потвърдена",cancelled:"Отменена",completed:"Завършена"}[a]||a),updateBookingStatus:async(a,e)=>{try{const s=await T.put(`/admin/bookings/${a}/status`,{status:e});s.success?(await ea(),alert("✅ Статусът на резервацията е обновен!")):alert("❌ Грешка при обновяването: "+s.message)}catch(s){alert("❌ Грешка при обновяването на статуса")}},deleteBooking:async a=>{if(confirm("Сигурни ли сте, че искате да изтриете тази резервация?"))try{const e=await T.delete(`/admin/bookings/${a}`);e.success?(await ea(),alert("✅ Резервацията е изтрита успешно!")):alert("❌ Грешка при изтриването: "+e.message)}catch(e){alert("❌ Грешка при изтриването на резервацията")}},addTokensToUser:a=>{V.value=a,X.amount=0,X.description="",h.value=!0},closeAddTokens:ra,saveTokens:async()=>{if(!V.value||X.amount<=0)alert("Моля, въведете валиден брой токени");else{M.value=!0;try{const a=await T.addTokensToUser(V.value.id,X.amount,X.description||"Администраторско добавяне");a.success?(alert(`Успешно добавени ${X.amount} токени на ${V.value.username}`),await Z(),ra()):a.needsReauth?confirm("Сесията е изтекла. Искате ли да влезете отново?")&&window.location.reload():alert("Грешка при добавянето: "+(a.message||"Неизвестна грешка"))}catch(a){a.response?alert("Грешка от сървъра: "+(a.response.data.message||a.response.status)):a.request?alert("Няма връзка със сървъра. Моля, проверете дали backend сървърът работи."):alert("Грешка при заявката: "+a.message)}finally{M.value=!1}}},loadStats:ta,loadPosts:Q,loadTournaments:aa,loadBookings:ea,loadSimulators:sa,loadShopItems:W,loadUsers:Z,truncate:(a,e)=>a?a.length>e?a.substring(0,e)+"...":a:"",formatDate:a=>new Date(a).toLocaleDateString("bg-BG"),calculateUserTokens:da,calculateTotalTokens:()=>m.value&&0!==m.value.length?m.value.reduce((a,e)=>a+da(e),0):0,saveSimulator:async()=>{if(G.name&&G.specs&&G.gpu){B.value=!0;try{const a={name:G.name,description:G.description,specs:G.specs,gpu:G.gpu,setup_type:G.setup_type,has_motion:G.has_motion,has_vr:G.has_vr,screen_setup:G.screen_setup,image_url:G.image_url,status:G.status};let e;if(e=U.value?await T.put(`/admin/simulators/${U.value.id}`,a):await T.post("/admin/simulators",a),!e.success)throw new Error(e.message||"Failed to save simulator");await sa(),la(),alert(U.value?"Симулаторът е обновен успешно!":"Симулаторът е създаден успешно!")}catch(a){alert("Грешка при запазване на симулатора: "+a.message)}finally{B.value=!1}}else alert("Моля попълнете всички задължителни полета")},editSimulator:a=>{U.value=a,G.name=a.name,G.description=a.description||"",G.specs=a.specs,G.gpu=a.gpu,G.setup_type=a.setup_type,G.has_motion=Boolean(a.has_motion),G.has_vr=Boolean(a.has_vr),G.screen_setup=a.screen_setup,G.image_url=a.image_url||"",G.status=a.status,g.value=!0},deleteSimulator:async a=>{if(confirm("Сигурни ли сте, че искате да изтриете този симулатор?"))try{const e=await T.delete(`/admin/simulators/${a}`);if(!e.success)throw new Error(e.message||"Failed to delete simulator");await sa(),alert("Симулаторът е изтрит успешно!")}catch(e){alert("Грешка при изтриване на симулатора: "+e.message)}},closeCreateSimulator:la,getSetupTypeText:a=>({wheel_only:"Само волан",full_set:"Пълен сет",motion:"Motion Platform"}[a]||a),getScreenSetupText:a=>({single:"Single Screen",triple:"Triple Screen",ultrawide:"Ultrawide",vr:"VR Headset"}[a]||a),loadAcademyCourses:oa,loadAcademyCategories:ia,getCategoryName:a=>{const e=v.value.find(e=>e.id===a);return e?e.name:"Няма категория"},getCategoryIcon:a=>{const e=v.value.find(e=>e.id===a);return e?e.icon:"fas fa-graduation-cap"},getDifficultyText:a=>({beginner:"За начинаещи",intermediate:"За напреднали",advanced:"За експерти"}[a]||a),editAcademyCourse:a=>{I.value=a,Y.title=a.title,Y.description=a.description,Y.price_tokens=a.price_tokens,Y.thumbnail_url=a.thumbnail_url||"",Y.youtube_url=a.youtube_url,Y.duration=a.duration||"",Y.difficulty=a.difficulty,Y.category_id=a.category_id,Y.is_active=a.is_active,_.value=!0},closeCreateAcademyCourse:ma,saveAcademyCourse:async()=>{E.value=!0;try{let a;a=I.value?await T.updateAcademyCourse(I.value.id,Y):await T.createAcademyCourse(Y),a.success?(alert(`✅ Курсът беше ${I.value?"обновен":"създаден"} успешно!`),await oa(),ma()):alert("❌ Грешка при запазването: "+a.message)}catch(a){alert("❌ Грешка при запазването на курса: "+a.message)}finally{E.value=!1}},deleteAcademyCourse:async a=>{if(confirm("Сигурни ли сте, че искате да изтриете този курс?"))try{const e=await T.deleteAcademyCourse(a);e.success?(alert("✅ Курсът беше изтрит успешно!"),await oa()):alert("❌ Грешка при изтриването: "+e.message)}catch(e){alert("❌ Грешка при изтриването на курса: "+e.message)}},editAcademyCategory:a=>{P.value=a,K.name=a.name,K.description=a.description,K.icon=a.icon,w.value=!0},closeCreateAcademyCategory:pa,saveAcademyCategory:async()=>{j.value=!0;try{let a;a=P.value?await T.updateAcademyCategory(P.value.id,K):await T.createAcademyCategory(K),a.success?(alert(`✅ Категорията беше ${P.value?"обновена":"създадена"} успешно!`),await ia(),pa()):alert("❌ Грешка при запазването: "+a.message)}catch(a){alert("❌ Грешка при запазването на категорията: "+a.message)}finally{j.value=!1}},deleteAcademyCategory:async a=>{if(confirm("Сигурни ли сте, че искате да изтриете тази категория?"))try{const e=await T.deleteAcademyCategory(a);e.success?(alert("✅ Категорията беше изтрита успешно!"),await ia(),await oa()):alert("❌ Грешка при изтриването: "+e.message)}catch(e){alert("❌ Грешка при изтриването на категорията: "+e.message)}}}}},P={class:"admin-panel"},V={key:0,class:"auth-required"},q={class:"auth-message"},$={key:0},R={key:1},z={key:1},D={class:"admin-content section-padding"},B={class:"container"},L={class:"admin-nav animate__animated animate__fadeInLeft"},M=["onClick"],E={class:"tab-content animate__animated animate__fadeInUp animate__delay-1s"},j={key:0,class:"tab-panel"},H={class:"panel-header"},N={key:0,class:"loading-state"},G={key:1,class:"error-state"},O={key:2,class:"posts-table"},X={class:"col-title"},Y={class:"post-title"},K={class:"post-excerpt"},J={class:"col-category"},Q={class:"category-tag"},W={class:"col-status"},Z={class:"col-date"},aa={class:"col-actions"},ea=["onClick"],sa=["onClick"],la={key:1,class:"tab-panel"},ta={class:"panel-header"},oa={key:0,class:"loading-state"},ia={key:1,class:"error-state"},na={key:2,class:"tournaments-table"},ca={class:"col-tournament"},ra={class:"tournament-title"},da={class:"tournament-description"},ua={class:"col-date"},ma={class:"col-participants"},pa={class:"participants-info"},va={class:"participants-count"},fa={class:"participants-bar"},ya={class:"col-prize"},ba={class:"prize-amount"},ga={class:"col-entry-fee"},ka={class:"entry-fee-amount"},ha={class:"col-status"},Ca={class:"col-actions"},_a=["onClick"],wa=["onClick"],Fa=["onClick"],Ta={key:2,class:"tab-panel"},xa={class:"panel-header"},Sa={class:"panel-actions"},Ua={key:0,class:"loading-state"},Aa={key:1,class:"error-state"},Ia={key:2,class:"bookings-table"},Pa={class:"col-booking"},Va={class:"booking-info"},qa={class:"booking-client"},$a={class:"booking-type"},Ra={key:0,class:"booking-requests"},za={class:"col-contact"},Da={class:"contact-info"},Ba={class:"contact-phone"},La={key:0,class:"contact-email"},Ma={class:"col-datetime"},Ea={class:"datetime-info"},ja={class:"booking-date"},Ha={class:"booking-time"},Na={class:"booking-duration"},Ga={class:"col-computer"},Oa={class:"computer-info"},Xa={class:"col-price"},Ya={class:"price-info"},Ka={class:"price-amount"},Ja={class:"col-status"},Qa={class:"status-actions"},Wa=["value","onChange"],Za={class:"col-actions"},ae=["onClick"],ee={key:3,class:"tab-panel"},se={class:"panel-header"},le={key:0,class:"loading-state"},te={key:1,class:"error-state"},oe={key:2,class:"simulators-grid"},ie={class:"status-badge"},ne={class:"feature-badges"},ce={key:0,class:"badge badge-motion"},re={key:1,class:"badge badge-vr"},de={class:"simulator-actions"},ue=["onClick"],me=["onClick"],pe={class:"simulator-info"},ve={class:"simulator-name"},fe={class:"simulator-description"},ye={class:"specs-grid"},be={class:"spec-item"},ge={class:"spec-item"},ke={class:"spec-item"},he={class:"full-specs"},Ce={key:4,class:"tab-panel"},_e={class:"panel-header"},we={key:0,class:"loading-state"},Fe={key:1,class:"error-state"},Te={key:2,class:"shop-table"},xe={class:"col-item"},Se={class:"item-info"},Ue={class:"item-icon"},Ae={class:"item-title"},Ie={class:"item-category"},Pe={class:"col-price"},Ve={class:"price-amount"},qe={class:"col-stock"},$e={class:"col-status"},Re={class:"col-actions"},ze=["onClick"],De=["onClick"],Be={key:5,class:"tab-panel"},Le={key:0,class:"loading-state"},Me={key:1,class:"error-state"},Ee={key:2,class:"users-table"},je={class:"col-user"},He={class:"user-info"},Ne={class:"user-name"},Ge={class:"user-status"},Oe={class:"col-stats"},Xe={class:"stat-item"},Ye={class:"stat-item"},Ke={class:"col-tokens"},Je={class:"token-display"},Qe={class:"col-actions"},We=["onClick"],Ze={key:6,class:"tab-panel"},as={class:"panel-header"},es={class:"header-actions"},ss={key:0,class:"loading-state"},ls={key:1,class:"error-state"},ts={key:2,class:"academy-content"},os={class:"categories-section"},is={class:"categories-grid"},ns={class:"category-icon"},cs={class:"category-info"},rs={class:"category-actions"},ds=["onClick"],us=["onClick"],ms={class:"courses-section"},ps={class:"courses-table"},vs={class:"col-course"},fs={class:"course-info"},ys={class:"course-details"},bs={class:"course-title"},gs={class:"course-description"},ks={key:0,class:"course-duration"},hs={class:"col-category"},Cs={class:"category-badge"},_s={class:"col-price"},ws={class:"price-amount"},Fs={class:"col-difficulty"},Ts={class:"col-status"},xs={class:"col-actions"},Ss=["onClick"],Us=["onClick"],As={key:7,class:"tab-panel"},Is={class:"panel-header"},Ps={key:0,class:"error-state"},Vs={key:1,class:"stats-grid"},qs={class:"stat-card"},$s={class:"stat-content"},Rs={class:"stat-value"},zs={class:"stat-card"},Ds={class:"stat-content"},Bs={class:"stat-value"},Ls={class:"stat-card"},Ms={class:"stat-content"},Es={class:"stat-value"},js={class:"stat-card"},Hs={class:"stat-content"},Ns={class:"stat-value"},Gs={class:"modal-header"},Os={class:"form-group"},Xs={class:"form-group"},Ys={class:"form-group"},Ks={class:"form-group"},Js={class:"form-checkbox"},Qs={class:"modal-footer"},Ws=["disabled"],Zs={key:0,class:"fas fa-spinner fa-spin"},al={key:1},el={class:"modal-header"},sl={class:"form-group"},ll={class:"form-group"},tl={class:"form-group"},ol={key:0,class:"image-preview"},il=["src"],nl={class:"form-row"},cl={class:"form-group"},rl={class:"form-group"},dl={class:"form-group"},ul={class:"form-checkbox"},ml={class:"form-row"},pl={class:"form-group"},vl={class:"form-group"},fl={class:"form-row"},yl={class:"form-group"},bl={class:"form-group"},gl={class:"form-row"},kl={class:"form-group"},hl={class:"form-group"},Cl={class:"modal-footer"},_l=["disabled"],wl={key:0,class:"fas fa-spinner fa-spin"},Fl={key:1},Tl={class:"modal-header"},xl={class:"form-group"},Sl={class:"form-group"},Ul={class:"form-row"},Al={class:"form-group"},Il={class:"form-group"},Pl={class:"form-row"},Vl={class:"form-group"},ql={class:"form-group"},$l={class:"form-group"},Rl={class:"form-group"},zl={class:"form-group"},Dl={class:"checkbox-row"},Bl={class:"form-checkbox"},Ll={class:"form-checkbox"},Ml={class:"modal-footer"},El=["disabled"],jl={key:0,class:"fas fa-spinner fa-spin"},Hl={key:1},Nl={class:"modal-header"},Gl={class:"modal-body"},Ol={key:0,class:"tournament-info-display"},Xl={class:"tournament-stats"},Yl={key:1,class:"loading-state"},Kl={key:2,class:"empty-state"},Jl={key:3,class:"participants-table"},Ql={class:"col-username"},Wl={class:"col-tokens-paid"},Zl={class:"col-registered-at"},at={class:"modal-footer"},et={class:"modal-header"},st={class:"form-group"},lt={class:"form-group"},tt={class:"form-row"},ot={class:"form-group"},it={class:"form-group"},nt={class:"form-row"},ct={class:"form-group"},rt={class:"form-group"},dt={class:"form-group"},ut={class:"form-checkbox"},mt={class:"form-group"},pt={class:"form-group"},vt={class:"form-row"},ft={class:"form-group"},yt={class:"form-group"},bt={class:"form-row"},gt={class:"form-group"},kt={class:"form-checkbox"},ht={class:"form-group"},Ct={class:"form-checkbox"},_t={class:"form-group"},wt={class:"form-checkbox"},Ft={class:"modal-footer"},Tt=["disabled"],xt={key:0,class:"fas fa-spinner fa-spin"},St={key:1},Ut={class:"modal-header"},At={key:0,class:"user-info-display"},It={class:"user-name"},Pt={class:"current-tokens"},Vt={class:"form-group"},qt={class:"form-group"},$t={class:"modal-footer"},Rt=["disabled"],zt={key:0,class:"fas fa-spinner fa-spin"},Dt={key:1},Bt={class:"modal-header"},Lt={class:"form-group"},Mt={class:"form-group"},Et={class:"form-row"},jt={class:"form-group"},Ht={class:"form-group"},Nt={class:"form-row"},Gt={class:"form-group"},Ot={class:"form-group"},Xt=["value"],Yt={class:"form-group"},Kt={class:"form-group"},Jt={class:"form-group"},Qt={class:"form-checkbox"},Wt={class:"modal-footer"},Zt=["disabled"],ao={key:0,class:"fas fa-spinner fa-spin"},eo={key:1},so={class:"modal-header"},lo={class:"form-group"},to={class:"form-group"},oo={class:"form-group"},io={class:"modal-footer"},no=["disabled"],co={key:0,class:"fas fa-spinner fa-spin"},ro={key:1};const uo=w(I,[["render",function(l,o,i,n,w,F){var T;const x=c("router-link");return a(),e("div",P,[n.authStore.isLoggedIn&&(null==(T=n.authStore.user)?void 0:T.is_admin)?(a(),e("div",z,[o[192]||(o[192]=u('<div class="admin-header section-padding" data-v-768018b6><div class="header-bg-pattern" data-v-768018b6></div><div class="header-particles" data-v-768018b6></div><div class="container" data-v-768018b6><div class="header-content animate__animated animate__fadeInDown" data-v-768018b6><div class="header-icon-wrapper" data-v-768018b6><div class="icon-glow" data-v-768018b6></div><i class="fas fa-cog header-main-icon" data-v-768018b6></i></div><h1 class="page-title" data-v-768018b6> Admin Panel </h1><p class="page-subtitle" data-v-768018b6> Управление на Academy Sim Racing </p><div class="header-decorative-line" data-v-768018b6><span class="line-segment" data-v-768018b6></span><span class="line-diamond" data-v-768018b6>◆</span><span class="line-segment" data-v-768018b6></span></div></div></div></div>',1)),s("div",D,[s("div",B,[s("div",L,[(a(!0),e(m,null,p(n.adminTabs,l=>(a(),e("button",{key:l.id,onClick:a=>n.activeTab=l.id,class:b(["nav-tab",{active:n.activeTab===l.id}])},[s("i",{class:b(l.icon)},null,2),s("span",null,f(l.name),1)],10,M))),128))]),s("div",E,["posts"===n.activeTab?(a(),e("div",j,[s("div",H,[o[113]||(o[113]=s("h2",null,"Управление на новини",-1)),s("button",{onClick:o[0]||(o[0]=a=>n.showCreatePost=!0),class:"btn-primary"},o[112]||(o[112]=[s("i",{class:"fas fa-plus"},null,-1),v(" Нова новина ")]))]),n.loading.posts?(a(),e("div",N,o[114]||(o[114]=[s("i",{class:"fas fa-spinner fa-spin"},null,-1),s("span",null,"Зареждане на новини...",-1)]))):n.error.posts?(a(),e("div",G,[o[115]||(o[115]=s("i",{class:"fas fa-exclamation-triangle"},null,-1)),s("span",null,f(n.error.posts),1),s("button",{onClick:o[1]||(o[1]=(...a)=>n.loadPosts&&n.loadPosts(...a)),class:"btn-secondary"},"Опитай отново")])):(a(),e("div",O,[o[118]||(o[118]=u('<div class="table-header" data-v-768018b6><div class="col-title" data-v-768018b6>Заглавие</div><div class="col-category" data-v-768018b6>Категория</div><div class="col-status" data-v-768018b6>Статус</div><div class="col-date" data-v-768018b6>Дата</div><div class="col-actions" data-v-768018b6>Действия</div></div>',1)),(a(!0),e(m,null,p(n.posts,l=>(a(),e("div",{key:l.id,class:"table-row"},[s("div",X,[s("div",Y,f(l.title),1),s("div",K,f(n.truncate(l.content,100)),1)]),s("div",J,[s("span",Q,f(l.category),1)]),s("div",W,[s("span",{class:b("status-"+l.status)},f(l.status),3)]),s("div",Z,f(n.formatDate(l.created_at)),1),s("div",aa,[s("button",{onClick:a=>n.editPost(l),class:"btn-icon btn-edit"},o[116]||(o[116]=[s("i",{class:"fas fa-edit"},null,-1)]),8,ea),s("button",{onClick:a=>n.deletePost(l.id),class:"btn-icon btn-delete"},o[117]||(o[117]=[s("i",{class:"fas fa-trash"},null,-1)]),8,sa)])]))),128))]))])):y("",!0),"tournaments"===n.activeTab?(a(),e("div",la,[s("div",ta,[o[120]||(o[120]=s("h2",null,"Управление на турнири",-1)),s("button",{onClick:o[2]||(o[2]=a=>n.showCreateTournament=!0),class:"btn-primary"},o[119]||(o[119]=[s("i",{class:"fas fa-plus"},null,-1),v(" Нов турнир ")]))]),n.loading.tournaments?(a(),e("div",oa,o[121]||(o[121]=[s("i",{class:"fas fa-spinner fa-spin"},null,-1),s("span",null,"Зареждане на турнири...",-1)]))):n.error.tournaments?(a(),e("div",ia,[o[122]||(o[122]=s("i",{class:"fas fa-exclamation-triangle"},null,-1)),s("span",null,f(n.error.tournaments),1),s("button",{onClick:o[3]||(o[3]=(...a)=>n.loadTournaments&&n.loadTournaments(...a)),class:"btn-secondary"},"Опитай отново")])):(a(),e("div",na,[o[128]||(o[128]=u('<div class="table-header" data-v-768018b6><div class="col-tournament" data-v-768018b6>Турнир</div><div class="col-date" data-v-768018b6>Дата</div><div class="col-participants" data-v-768018b6>Участници</div><div class="col-prize" data-v-768018b6>Награда</div><div class="col-entry-fee" data-v-768018b6>Цена</div><div class="col-status" data-v-768018b6>Статус</div><div class="col-actions" data-v-768018b6>Действия</div></div>',1)),(a(!0),e(m,null,p(n.tournaments,l=>(a(),e("div",{key:l.id,class:"table-row"},[s("div",ca,[s("div",ra,f(l.name),1),s("div",da,f(n.truncate(l.description,80)),1)]),s("div",ua,f(n.formatDate(l.date)),1),s("div",ma,[s("div",pa,[s("span",va,f(l.participants||0)+"/"+f(l.max_participants),1),s("div",fa,[s("div",{class:"participants-fill",style:_({width:(l.participants||0)/l.max_participants*100+"%"})},null,4)])])]),s("div",ya,[s("span",ba,f(l.prize),1),o[123]||(o[123]=s("i",{class:"fas fa-coins"},null,-1))]),s("div",ga,[s("span",ka,f(l.entry_fee||0),1),o[124]||(o[124]=s("i",{class:"fas fa-ticket-alt"},null,-1))]),s("div",ha,[s("span",{class:b("status-"+l.status)},f(n.getStatusText(l.status)),3)]),s("div",Ca,[s("button",{onClick:a=>n.viewParticipants(l),class:"btn-icon btn-view",title:"Преглед на участници"},o[125]||(o[125]=[s("i",{class:"fas fa-users"},null,-1)]),8,_a),s("button",{onClick:a=>n.editTournament(l),class:"btn-icon btn-edit"},o[126]||(o[126]=[s("i",{class:"fas fa-edit"},null,-1)]),8,wa),s("button",{onClick:a=>n.deleteTournament(l.id),class:"btn-icon btn-delete"},o[127]||(o[127]=[s("i",{class:"fas fa-trash"},null,-1)]),8,Fa)])]))),128))]))])):y("",!0),"bookings"===n.activeTab?(a(),e("div",Ta,[s("div",xa,[o[130]||(o[130]=s("h2",null,"Управление на резервации",-1)),s("div",Sa,[s("button",{onClick:o[4]||(o[4]=(...a)=>n.loadBookings&&n.loadBookings(...a)),class:"btn-secondary"},o[129]||(o[129]=[s("i",{class:"fas fa-sync-alt"},null,-1),v(" Обнови ")]))])]),n.loading.bookings?(a(),e("div",Ua,o[131]||(o[131]=[s("i",{class:"fas fa-spinner fa-spin"},null,-1),s("span",null,"Зареждане на резервации...",-1)]))):n.error.bookings?(a(),e("div",Aa,[o[132]||(o[132]=s("i",{class:"fas fa-exclamation-triangle"},null,-1)),s("span",null,f(n.error.bookings),1),s("button",{onClick:o[5]||(o[5]=(...a)=>n.loadBookings&&n.loadBookings(...a)),class:"btn-secondary"},"Опитай отново")])):(a(),e("div",Ia,[o[142]||(o[142]=u('<div class="table-header" data-v-768018b6><div class="col-booking" data-v-768018b6>Резервация</div><div class="col-contact" data-v-768018b6>Контакт</div><div class="col-datetime" data-v-768018b6>Дата/Час</div><div class="col-computer" data-v-768018b6>Компютър</div><div class="col-price" data-v-768018b6>Цена</div><div class="col-status" data-v-768018b6>Статус</div><div class="col-actions" data-v-768018b6>Действия</div></div>',1)),(a(!0),e(m,null,p(n.bookings,l=>(a(),e("div",{key:l.id,class:"table-row"},[s("div",Pa,[s("div",Va,[s("div",qa,[o[133]||(o[133]=s("i",{class:"fas fa-user"},null,-1)),v(" "+f(l.user_name||"Гост"),1)]),s("div",$a,[s("span",{class:b(["type-badge","type-"+l.booking_type])},f(l.booking_type),3)]),l.special_requests?(a(),e("div",Ra,[o[134]||(o[134]=s("i",{class:"fas fa-comment"},null,-1)),v(" "+f(n.truncate(l.special_requests,50)),1)])):y("",!0)])]),s("div",za,[s("div",Da,[s("div",Ba,[o[135]||(o[135]=s("i",{class:"fas fa-phone"},null,-1)),v(" "+f(l.phone),1)]),l.email?(a(),e("div",La,[o[136]||(o[136]=s("i",{class:"fas fa-envelope"},null,-1)),v(" "+f(l.email),1)])):y("",!0)])]),s("div",Ma,[s("div",Ea,[s("div",ja,[o[137]||(o[137]=s("i",{class:"fas fa-calendar"},null,-1)),v(" "+f(n.formatDate(l.date)),1)]),s("div",Ha,[o[138]||(o[138]=s("i",{class:"fas fa-clock"},null,-1)),v(" "+f(l.start_time)+" - "+f(l.end_time),1)]),s("div",Na,f(l.duration_hours)+"ч ",1)])]),s("div",Ga,[s("div",Oa,[o[139]||(o[139]=s("i",{class:"fas fa-desktop"},null,-1)),v(" "+f(l.computer_id?`PC #${l.computer_id}`:"Няма"),1)])]),s("div",Xa,[s("div",Ya,[s("span",Ka,f(l.total_price)+"лв",1)])]),s("div",Ja,[s("div",Qa,[s("select",{value:l.status,onChange:a=>n.updateBookingStatus(l.id,a.target.value),class:b(["status-select","status-"+l.status])},o[140]||(o[140]=[s("option",{value:"pending"},"Изчакваща",-1),s("option",{value:"confirmed"},"Потвърдена",-1),s("option",{value:"cancelled"},"Отменена",-1),s("option",{value:"completed"},"Завършена",-1)]),42,Wa)])]),s("div",Za,[s("button",{onClick:a=>n.deleteBooking(l.id),class:"btn-icon btn-delete"},o[141]||(o[141]=[s("i",{class:"fas fa-trash"},null,-1)]),8,ae)])]))),128))]))])):y("",!0),"simulators"===n.activeTab?(a(),e("div",ee,[s("div",se,[o[144]||(o[144]=s("h2",null,"Управление на симулатори",-1)),s("button",{onClick:o[6]||(o[6]=a=>n.showCreateSimulator=!0),class:"btn-primary"},o[143]||(o[143]=[s("i",{class:"fas fa-plus"},null,-1),v(" Нов симулатор ")]))]),n.loading.simulators?(a(),e("div",le,o[145]||(o[145]=[s("i",{class:"fas fa-spinner fa-spin"},null,-1),s("span",null,"Зареждане на симулатори...",-1)]))):n.error.simulators?(a(),e("div",te,[o[146]||(o[146]=s("i",{class:"fas fa-exclamation-triangle"},null,-1)),s("span",null,f(n.error.simulators),1),s("button",{onClick:o[7]||(o[7]=(...a)=>n.loadSimulators&&n.loadSimulators(...a)),class:"btn-secondary"},"Опитай отново")])):(a(),e("div",oe,[(a(!0),e(m,null,p(n.simulators,l=>(a(),e("div",{key:l.id,class:"simulator-card"},[s("div",{class:"simulator-image",style:_(l.image_url?`background-image: url('${l.image_url}')`:"")},[s("div",ie,[s("span",{class:b("available"===l.status?"status-available":"status-unavailable")},f("available"===l.status?"Наличен":"Недостъпен"),3)]),s("div",ne,[l.has_motion?(a(),e("span",ce,"Motion")):y("",!0),l.has_vr?(a(),e("span",re,"VR")):y("",!0)]),s("div",de,[s("button",{onClick:a=>n.editSimulator(l),class:"btn-icon btn-edit"},o[147]||(o[147]=[s("i",{class:"fas fa-edit"},null,-1)]),8,ue),s("button",{onClick:a=>n.deleteSimulator(l.id),class:"btn-icon btn-delete"},o[148]||(o[148]=[s("i",{class:"fas fa-trash"},null,-1)]),8,me)])],4),s("div",pe,[s("h3",ve,f(l.name),1),s("p",fe,f(n.truncate(l.description,80)),1),s("div",ye,[s("div",be,[o[149]||(o[149]=s("i",{class:"fas fa-microchip"},null,-1)),s("span",null,f(l.gpu),1)]),s("div",ge,[o[150]||(o[150]=s("i",{class:"fas fa-tv"},null,-1)),s("span",null,f(n.getScreenSetupText(l.screen_setup)),1)]),s("div",ke,[o[151]||(o[151]=s("i",{class:"fas fa-cogs"},null,-1)),s("span",null,f(n.getSetupTypeText(l.setup_type)),1)])]),s("div",he,[s("small",null,f(l.specs),1)])])]))),128))]))])):y("",!0),"shop"===n.activeTab?(a(),e("div",Ce,[s("div",_e,[o[153]||(o[153]=s("h2",null,"Управление на магазина",-1)),s("button",{onClick:o[8]||(o[8]=a=>n.showCreateItem=!0),class:"btn-primary"},o[152]||(o[152]=[s("i",{class:"fas fa-plus"},null,-1),v(" Нов продукт ")]))]),n.loading.shop?(a(),e("div",we,o[154]||(o[154]=[s("i",{class:"fas fa-spinner fa-spin"},null,-1),s("span",null,"Зареждане на продукти...",-1)]))):n.error.shop?(a(),e("div",Fe,[o[155]||(o[155]=s("i",{class:"fas fa-exclamation-triangle"},null,-1)),s("span",null,f(n.error.shop),1),s("button",{onClick:o[9]||(o[9]=(...a)=>n.loadShopItems&&n.loadShopItems(...a)),class:"btn-secondary"},"Опитай отново")])):(a(),e("div",Te,[o[159]||(o[159]=u('<div class="table-header" data-v-768018b6><div class="col-item" data-v-768018b6>Продукт</div><div class="col-price" data-v-768018b6>Цена</div><div class="col-stock" data-v-768018b6>Наличност</div><div class="col-status" data-v-768018b6>Статус</div><div class="col-actions" data-v-768018b6>Действия</div></div>',1)),(a(!0),e(m,null,p(n.shopItems,l=>(a(),e("div",{key:l.id,class:"table-row"},[s("div",xe,[s("div",Se,[s("span",Ue,f(l.icon||"🎁"),1),s("div",null,[s("div",Ae,f(l.title),1),s("div",Ie,f(l.category),1)])])]),s("div",Pe,[s("span",Ve,f(l.price),1),o[156]||(o[156]=s("i",{class:"fas fa-coins"},null,-1))]),s("div",qe,f(-1===l.stock?"Неограничено":l.stock),1),s("div",$e,[s("span",{class:b(l.is_active?"status-active":"status-inactive")},f(l.is_active?"Активен":"Неактивен"),3)]),s("div",Re,[s("button",{onClick:a=>n.editShopItem(l),class:"btn-icon btn-edit"},o[157]||(o[157]=[s("i",{class:"fas fa-edit"},null,-1)]),8,ze),s("button",{onClick:a=>n.deleteShopItem(l.id),class:"btn-icon btn-delete"},o[158]||(o[158]=[s("i",{class:"fas fa-trash"},null,-1)]),8,De)])]))),128))]))])):y("",!0),"users"===n.activeTab?(a(),e("div",Be,[o[166]||(o[166]=s("div",{class:"panel-header"},[s("h2",null,"Управление на потребители")],-1)),n.loading.users?(a(),e("div",Le,o[160]||(o[160]=[s("i",{class:"fas fa-spinner fa-spin"},null,-1),s("span",null,"Зареждане на потребители...",-1)]))):n.error.users?(a(),e("div",Me,[o[161]||(o[161]=s("i",{class:"fas fa-exclamation-triangle"},null,-1)),s("span",null,f(n.error.users),1),s("button",{onClick:o[10]||(o[10]=(...a)=>n.loadUsers&&n.loadUsers(...a)),class:"btn-secondary"},"Опитай отново")])):(a(),e("div",Ee,[o[165]||(o[165]=u('<div class="table-header" data-v-768018b6><div class="col-user" data-v-768018b6>Потребител</div><div class="col-stats" data-v-768018b6>Статистики</div><div class="col-tokens" data-v-768018b6>Токени</div><div class="col-actions" data-v-768018b6>Действия</div></div>',1)),(a(!0),e(m,null,p(n.users,l=>(a(),e("div",{key:l.id,class:"table-row"},[s("div",je,[s("div",He,[o[162]||(o[162]=s("i",{class:"fas fa-user-circle"},null,-1)),s("div",null,[s("div",Ne,f(l.username),1),s("div",Ge,f(l.is_admin?"Admin":"Потребител"),1)])])]),s("div",Oe,[s("div",Xe,[s("span",null,f(Math.floor((l.total_time_played||0)/60))+"ч игра",1)]),s("div",Ye,[s("span",null,f(l.sessions_played||0)+" сесии",1)])]),s("div",Ke,[s("div",Je,[s("span",null,f(n.calculateUserTokens(l)),1),o[163]||(o[163]=s("i",{class:"fas fa-coins"},null,-1))])]),s("div",Qe,[s("button",{onClick:a=>n.addTokensToUser(l),class:"btn-icon btn-tokens"},o[164]||(o[164]=[s("i",{class:"fas fa-plus"},null,-1)]),8,We)])]))),128))]))])):y("",!0),"academy"===n.activeTab?(a(),e("div",Ze,[s("div",as,[o[169]||(o[169]=s("h2",null,"Управление на академията",-1)),s("div",es,[s("button",{onClick:o[11]||(o[11]=a=>n.showCreateAcademyCategory=!0),class:"btn-secondary"},o[167]||(o[167]=[s("i",{class:"fas fa-folder-plus"},null,-1),v(" Нова категория ")])),s("button",{onClick:o[12]||(o[12]=a=>n.showCreateAcademyCourse=!0),class:"btn-primary"},o[168]||(o[168]=[s("i",{class:"fas fa-plus"},null,-1),v(" Нов курс ")]))])]),n.loading.academy||n.loading.academyCategories?(a(),e("div",ss,o[170]||(o[170]=[s("i",{class:"fas fa-spinner fa-spin"},null,-1),s("span",null,"Зареждане на курсове...",-1)]))):n.error.academy||n.error.academyCategories?(a(),e("div",ls,[o[171]||(o[171]=s("i",{class:"fas fa-exclamation-triangle"},null,-1)),s("span",null,f(n.error.academy||n.error.academyCategories),1),s("button",{onClick:o[13]||(o[13]=a=>{n.loadAcademyCourses(),n.loadAcademyCategories()}),class:"btn-secondary"},"Опитай отново")])):(a(),e("div",ts,[s("div",os,[o[174]||(o[174]=s("h3",null,"Категории",-1)),s("div",is,[(a(!0),e(m,null,p(n.academyCategories,l=>(a(),e("div",{key:l.id,class:"category-card"},[s("div",ns,[s("i",{class:b(l.icon)},null,2)]),s("div",cs,[s("h4",null,f(l.name),1),s("p",null,f(l.description),1)]),s("div",rs,[s("button",{onClick:a=>n.editAcademyCategory(l),class:"btn-icon btn-edit"},o[172]||(o[172]=[s("i",{class:"fas fa-edit"},null,-1)]),8,ds),s("button",{onClick:a=>n.deleteAcademyCategory(l.id),class:"btn-icon btn-delete"},o[173]||(o[173]=[s("i",{class:"fas fa-trash"},null,-1)]),8,us)])]))),128))])]),s("div",ms,[o[180]||(o[180]=s("h3",null,"Курсове",-1)),s("div",ps,[o[179]||(o[179]=u('<div class="table-header" data-v-768018b6><div class="col-course" data-v-768018b6>Курс</div><div class="col-category" data-v-768018b6>Категория</div><div class="col-price" data-v-768018b6>Цена</div><div class="col-difficulty" data-v-768018b6>Трудност</div><div class="col-status" data-v-768018b6>Статус</div><div class="col-actions" data-v-768018b6>Действия</div></div>',1)),(a(!0),e(m,null,p(n.academyCourses,l=>(a(),e("div",{key:l.id,class:"table-row"},[s("div",vs,[s("div",fs,[s("div",{class:"course-thumbnail",style:_(l.thumbnail_url?`background-image: url('${l.thumbnail_url}')`:"")},null,4),s("div",ys,[s("div",bs,f(l.title),1),s("div",gs,f(n.truncate(l.description,60)),1),l.duration?(a(),e("div",ks,[o[175]||(o[175]=s("i",{class:"fas fa-clock"},null,-1)),v(" "+f(l.duration),1)])):y("",!0)])])]),s("div",hs,[s("div",Cs,[s("i",{class:b(n.getCategoryIcon(l.category_id))},null,2),v(" "+f(n.getCategoryName(l.category_id)),1)])]),s("div",_s,[s("span",ws,f(l.price_tokens),1),o[176]||(o[176]=s("i",{class:"fas fa-coins"},null,-1))]),s("div",Fs,[s("span",{class:b(["difficulty-badge",`difficulty-${l.difficulty}`])},f(n.getDifficultyText(l.difficulty)),3)]),s("div",Ts,[s("span",{class:b(l.is_active?"status-active":"status-inactive")},f(l.is_active?"Активен":"Неактивен"),3)]),s("div",xs,[s("button",{onClick:a=>n.editAcademyCourse(l),class:"btn-icon btn-edit"},o[177]||(o[177]=[s("i",{class:"fas fa-edit"},null,-1)]),8,Ss),s("button",{onClick:a=>n.deleteAcademyCourse(l.id),class:"btn-icon btn-delete"},o[178]||(o[178]=[s("i",{class:"fas fa-trash"},null,-1)]),8,Us)])]))),128))])])]))])):y("",!0),"stats"===n.activeTab?(a(),e("div",As,[s("div",Is,[o[182]||(o[182]=s("h2",null,"Статистики",-1)),s("button",{onClick:o[14]||(o[14]=(...a)=>n.loadStats&&n.loadStats(...a)),class:"btn-secondary"},[s("i",{class:b(["fas fa-sync-alt",{"fa-spin":n.loading.stats}])},null,2),o[181]||(o[181]=v(" Обнови "))])]),n.error.stats?(a(),e("div",Ps,[o[183]||(o[183]=s("i",{class:"fas fa-exclamation-triangle"},null,-1)),s("span",null,f(n.error.stats),1),s("button",{onClick:o[15]||(o[15]=(...a)=>n.loadStats&&n.loadStats(...a)),class:"btn-secondary"},"Опитай отново")])):(a(),e("div",Vs,[s("div",qs,[o[185]||(o[185]=s("div",{class:"stat-icon"},[s("i",{class:"fas fa-users"})],-1)),s("div",$s,[s("div",Rs,f(n.stats.total_users||0),1),o[184]||(o[184]=s("div",{class:"stat-label"},"Потребители",-1))])]),s("div",zs,[o[187]||(o[187]=s("div",{class:"stat-icon"},[s("i",{class:"fas fa-clock"})],-1)),s("div",Ds,[s("div",Bs,f(Math.floor((n.stats.total_time||0)/60)),1),o[186]||(o[186]=s("div",{class:"stat-label"},"Часа игра",-1))])]),s("div",Ls,[o[189]||(o[189]=s("div",{class:"stat-icon"},[s("i",{class:"fas fa-coins"})],-1)),s("div",Ms,[s("div",Es,f(n.calculateTotalTokens()),1),o[188]||(o[188]=s("div",{class:"stat-label"},"Общо токени",-1))])]),s("div",js,[o[191]||(o[191]=s("div",{class:"stat-icon"},[s("i",{class:"fas fa-shopping-cart"})],-1)),s("div",Hs,[s("div",Ns,f(n.shopItems.length),1),o[190]||(o[190]=s("div",{class:"stat-label"},"Продукти",-1))])])]))])):y("",!0)])])])])):(a(),e("div",V,[s("div",q,[o[110]||(o[110]=s("div",{class:"auth-icon"},[s("i",{class:"fas fa-lock"})],-1)),o[111]||(o[111]=s("h2",null,"Достъп отказан",-1)),n.authStore.isLoggedIn?(a(),e("p",R,"Нямате администраторски права за достъп до този панел.")):(a(),e("p",$,"Моля, влезте в профила си за достъп до админ панела.")),r(x,{to:"/login",class:"btn-primary"},{default:d(()=>o[109]||(o[109]=[s("i",{class:"fas fa-sign-in-alt"},null,-1),v(" Вход ")])),_:1,__:[109]})])])),n.showCreatePost?(a(),e("div",{key:2,class:"modal-overlay",onClick:o[24]||(o[24]=(...a)=>n.closeCreatePost&&n.closeCreatePost(...a))},[s("div",{class:"modal-content",onClick:o[23]||(o[23]=t(()=>{},["stop"]))},[s("div",Gs,[s("h3",null,f(n.editingPost?"Редактиране на новина":"Нова новина"),1),s("button",{onClick:o[16]||(o[16]=(...a)=>n.closeCreatePost&&n.closeCreatePost(...a)),class:"modal-close"},o[193]||(o[193]=[s("i",{class:"fas fa-times"},null,-1)]))]),s("form",{onSubmit:o[22]||(o[22]=t((...a)=>n.savePost&&n.savePost(...a),["prevent"])),class:"modal-body"},[s("div",Os,[o[194]||(o[194]=s("label",{class:"form-label"},"Заглавие",-1)),g(s("input",{"onUpdate:modelValue":o[17]||(o[17]=a=>n.postForm.title=a),type:"text",class:"form-input",required:""},null,512),[[k,n.postForm.title]])]),s("div",Xs,[o[195]||(o[195]=s("label",{class:"form-label"},"Съдържание",-1)),g(s("textarea",{"onUpdate:modelValue":o[18]||(o[18]=a=>n.postForm.content=a),class:"form-textarea",rows:"6",required:""},null,512),[[k,n.postForm.content]])]),s("div",Ys,[o[197]||(o[197]=s("label",{class:"form-label"},"Категория",-1)),g(s("select",{"onUpdate:modelValue":o[19]||(o[19]=a=>n.postForm.category=a),class:"form-select"},o[196]||(o[196]=[s("option",{value:"news"},"Новини",-1),s("option",{value:"tournaments"},"Турнири",-1),s("option",{value:"updates"},"Обновления",-1),s("option",{value:"general"},"Общи",-1)]),512),[[h,n.postForm.category]])]),s("div",Ks,[s("label",Js,[g(s("input",{type:"checkbox","onUpdate:modelValue":o[20]||(o[20]=a=>n.postForm.featured=a)},null,512),[[C,n.postForm.featured]]),o[198]||(o[198]=s("span",{class:"checkbox-custom"},null,-1)),o[199]||(o[199]=v(" Препоръчано "))])]),s("div",Qs,[s("button",{type:"button",onClick:o[21]||(o[21]=(...a)=>n.closeCreatePost&&n.closeCreatePost(...a)),class:"btn-secondary"}," Отказ "),s("button",{type:"submit",class:"btn-primary",disabled:n.savingPost},[n.savingPost?(a(),e("i",Zs)):(a(),e("span",al,f(n.editingPost?"Обнови":"Създай"),1))],8,Ws)])],32)])])):y("",!0),n.showCreateTournament?(a(),e("div",{key:3,class:"modal-overlay",onClick:o[41]||(o[41]=(...a)=>n.closeCreateTournament&&n.closeCreateTournament(...a))},[s("div",{class:"modal-content",onClick:o[40]||(o[40]=t(()=>{},["stop"]))},[s("div",el,[s("h3",null,f(n.editingTournament?"Редактиране на турнир":"Нов турнир"),1),s("button",{onClick:o[25]||(o[25]=(...a)=>n.closeCreateTournament&&n.closeCreateTournament(...a)),class:"modal-close"},o[200]||(o[200]=[s("i",{class:"fas fa-times"},null,-1)]))]),s("form",{onSubmit:o[39]||(o[39]=t((...a)=>n.saveTournament&&n.saveTournament(...a),["prevent"])),class:"modal-body"},[s("div",sl,[o[201]||(o[201]=s("label",{class:"form-label"},"Име на турнира",-1)),g(s("input",{"onUpdate:modelValue":o[26]||(o[26]=a=>n.tournamentForm.name=a),type:"text",class:"form-input",required:""},null,512),[[k,n.tournamentForm.name]])]),s("div",ll,[o[202]||(o[202]=s("label",{class:"form-label"},"Описание",-1)),g(s("textarea",{"onUpdate:modelValue":o[27]||(o[27]=a=>n.tournamentForm.description=a),class:"form-textarea",rows:"4",required:""},null,512),[[k,n.tournamentForm.description]])]),s("div",tl,[o[203]||(o[203]=s("label",{class:"form-label"},"URL на изображение",-1)),g(s("input",{"onUpdate:modelValue":o[28]||(o[28]=a=>n.tournamentForm.image_url=a),type:"url",class:"form-input",placeholder:"https://example.com/image.jpg"},null,512),[[k,n.tournamentForm.image_url]]),n.tournamentForm.image_url?(a(),e("div",ol,[s("img",{src:n.tournamentForm.image_url,alt:"Tournament preview"},null,8,il)])):y("",!0)]),s("div",nl,[s("div",cl,[o[205]||(o[205]=s("label",{class:"form-label"},"Тип игра",-1)),g(s("select",{"onUpdate:modelValue":o[29]||(o[29]=a=>n.tournamentForm.game_type=a),class:"form-select"},o[204]||(o[204]=[s("option",{value:"racing"},"Състезание",-1),s("option",{value:"time_trial"},"Time Trial",-1),s("option",{value:"drift"},"Дрифт",-1),s("option",{value:"endurance"},"Издръжливост",-1)]),512),[[h,n.tournamentForm.game_type]])]),s("div",rl,[o[207]||(o[207]=s("label",{class:"form-label"},"Трудност",-1)),g(s("select",{"onUpdate:modelValue":o[30]||(o[30]=a=>n.tournamentForm.difficulty=a),class:"form-select"},o[206]||(o[206]=[s("option",{value:"beginner"},"За начинаещи",-1),s("option",{value:"medium"},"Средно ниво",-1),s("option",{value:"expert"},"За експерти",-1),s("option",{value:"pro"},"Професионално",-1)]),512),[[h,n.tournamentForm.difficulty]])])]),s("div",dl,[s("label",ul,[g(s("input",{type:"checkbox","onUpdate:modelValue":o[31]||(o[31]=a=>n.tournamentForm.featured=a)},null,512),[[C,n.tournamentForm.featured]]),o[208]||(o[208]=s("span",{class:"checkbox-label"},"Специален турнир",-1))])]),s("div",ml,[s("div",pl,[o[209]||(o[209]=s("label",{class:"form-label"},"Дата",-1)),g(s("input",{"onUpdate:modelValue":o[32]||(o[32]=a=>n.tournamentForm.date=a),type:"date",class:"form-input",required:""},null,512),[[k,n.tournamentForm.date]])]),s("div",vl,[o[210]||(o[210]=s("label",{class:"form-label"},"Час",-1)),g(s("input",{"onUpdate:modelValue":o[33]||(o[33]=a=>n.tournamentForm.time=a),type:"time",class:"form-input",required:""},null,512),[[k,n.tournamentForm.time]])])]),s("div",fl,[s("div",yl,[o[211]||(o[211]=s("label",{class:"form-label"},"Награда (токени)",-1)),g(s("input",{"onUpdate:modelValue":o[34]||(o[34]=a=>n.tournamentForm.prize=a),type:"number",class:"form-input",min:"0",required:""},null,512),[[k,n.tournamentForm.prize,void 0,{number:!0}]])]),s("div",bl,[o[212]||(o[212]=s("label",{class:"form-label"},"Цена за записване (токени)",-1)),g(s("input",{"onUpdate:modelValue":o[35]||(o[35]=a=>n.tournamentForm.entry_fee=a),type:"number",class:"form-input",min:"0",required:""},null,512),[[k,n.tournamentForm.entry_fee,void 0,{number:!0}]])])]),s("div",gl,[s("div",kl,[o[213]||(o[213]=s("label",{class:"form-label"},"Макс. участници",-1)),g(s("input",{"onUpdate:modelValue":o[36]||(o[36]=a=>n.tournamentForm.maxParticipants=a),type:"number",class:"form-input",min:"2",max:"50",required:""},null,512),[[k,n.tournamentForm.maxParticipants,void 0,{number:!0}]])])]),s("div",hl,[o[215]||(o[215]=s("label",{class:"form-label"},"Статус",-1)),g(s("select",{"onUpdate:modelValue":o[37]||(o[37]=a=>n.tournamentForm.status=a),class:"form-select"},o[214]||(o[214]=[s("option",{value:"upcoming"},"Предстоящ",-1),s("option",{value:"active"},"Активен",-1),s("option",{value:"completed"},"Завършен",-1)]),512),[[h,n.tournamentForm.status]])]),s("div",Cl,[s("button",{type:"button",onClick:o[38]||(o[38]=(...a)=>n.closeCreateTournament&&n.closeCreateTournament(...a)),class:"btn-secondary"}," Отказ "),s("button",{type:"submit",class:"btn-primary",disabled:n.savingTournament},[n.savingTournament?(a(),e("i",wl)):(a(),e("span",Fl,f(n.editingTournament?"Обнови":"Създай"),1))],8,_l)])],32)])])):y("",!0),n.showCreateSimulator?(a(),e("div",{key:4,class:"modal-overlay",onClick:o[56]||(o[56]=(...a)=>n.closeCreateSimulator&&n.closeCreateSimulator(...a))},[s("div",{class:"modal-content",onClick:o[55]||(o[55]=t(()=>{},["stop"]))},[s("div",Tl,[s("h3",null,f(n.editingSimulator?"Редактиране на симулатор":"Нов симулатор"),1),s("button",{onClick:o[42]||(o[42]=(...a)=>n.closeCreateSimulator&&n.closeCreateSimulator(...a)),class:"modal-close"},o[216]||(o[216]=[s("i",{class:"fas fa-times"},null,-1)]))]),s("form",{onSubmit:o[54]||(o[54]=t((...a)=>n.saveSimulator&&n.saveSimulator(...a),["prevent"])),class:"modal-body"},[s("div",xl,[o[217]||(o[217]=s("label",{class:"form-label"},"Име на симулатора *",-1)),g(s("input",{"onUpdate:modelValue":o[43]||(o[43]=a=>n.simulatorForm.name=a),type:"text",class:"form-input",required:"",placeholder:"Elite Racing Rig Pro"},null,512),[[k,n.simulatorForm.name]])]),s("div",Sl,[o[218]||(o[218]=s("label",{class:"form-label"},"Описание",-1)),g(s("textarea",{"onUpdate:modelValue":o[44]||(o[44]=a=>n.simulatorForm.description=a),class:"form-textarea",rows:"3",placeholder:"Професионален симулатор с motion platform и VR поддръжка"},null,512),[[k,n.simulatorForm.description]])]),s("div",Ul,[s("div",Al,[o[219]||(o[219]=s("label",{class:"form-label"},"GPU *",-1)),g(s("input",{"onUpdate:modelValue":o[45]||(o[45]=a=>n.simulatorForm.gpu=a),type:"text",class:"form-input",required:"",placeholder:"RTX 4090"},null,512),[[k,n.simulatorForm.gpu]])]),s("div",Il,[o[221]||(o[221]=s("label",{class:"form-label"},"Setup тип *",-1)),g(s("select",{"onUpdate:modelValue":o[46]||(o[46]=a=>n.simulatorForm.setup_type=a),class:"form-select",required:""},o[220]||(o[220]=[s("option",{value:"wheel_only"},"Само волан",-1),s("option",{value:"full_set"},"Пълен сет",-1),s("option",{value:"motion"},"Motion Platform",-1)]),512),[[h,n.simulatorForm.setup_type]])])]),s("div",Pl,[s("div",Vl,[o[223]||(o[223]=s("label",{class:"form-label"},"Screen Setup",-1)),g(s("select",{"onUpdate:modelValue":o[47]||(o[47]=a=>n.simulatorForm.screen_setup=a),class:"form-select"},o[222]||(o[222]=[s("option",{value:"single"},"Single Screen",-1),s("option",{value:"triple"},"Triple Screen",-1),s("option",{value:"ultrawide"},"Ultrawide",-1),s("option",{value:"vr"},"VR Headset",-1)]),512),[[h,n.simulatorForm.screen_setup]])]),s("div",ql,[o[225]||(o[225]=s("label",{class:"form-label"},"Статус",-1)),g(s("select",{"onUpdate:modelValue":o[48]||(o[48]=a=>n.simulatorForm.status=a),class:"form-select"},o[224]||(o[224]=[s("option",{value:"available"},"Наличен",-1),s("option",{value:"maintenance"},"Поддръжка",-1),s("option",{value:"unavailable"},"Недостъпен",-1)]),512),[[h,n.simulatorForm.status]])])]),s("div",$l,[o[226]||(o[226]=s("label",{class:"form-label"},"Пълни спецификации *",-1)),g(s("textarea",{"onUpdate:modelValue":o[49]||(o[49]=a=>n.simulatorForm.specs=a),class:"form-textarea",rows:"4",required:"",placeholder:'RTX 4090, Triple 32" 4K монитори,\nDirect Drive wheel base,\nLoadcell педали,\nMotion platform 3DOF'},null,512),[[k,n.simulatorForm.specs]])]),s("div",Rl,[o[227]||(o[227]=s("label",{class:"form-label"},"URL на изображението",-1)),g(s("input",{"onUpdate:modelValue":o[50]||(o[50]=a=>n.simulatorForm.image_url=a),type:"text",class:"form-input",placeholder:"/simulators/elite-rig-pro.jpg"},null,512),[[k,n.simulatorForm.image_url]])]),s("div",zl,[s("div",Dl,[s("label",Bl,[g(s("input",{type:"checkbox","onUpdate:modelValue":o[51]||(o[51]=a=>n.simulatorForm.has_motion=a)},null,512),[[C,n.simulatorForm.has_motion]]),o[228]||(o[228]=s("span",{class:"checkbox-custom"},null,-1)),o[229]||(o[229]=v(" Motion Platform "))]),s("label",Ll,[g(s("input",{type:"checkbox","onUpdate:modelValue":o[52]||(o[52]=a=>n.simulatorForm.has_vr=a)},null,512),[[C,n.simulatorForm.has_vr]]),o[230]||(o[230]=s("span",{class:"checkbox-custom"},null,-1)),o[231]||(o[231]=v(" VR Support "))])])]),s("div",Ml,[s("button",{type:"button",onClick:o[53]||(o[53]=(...a)=>n.closeCreateSimulator&&n.closeCreateSimulator(...a)),class:"btn-secondary"}," Отказ "),s("button",{type:"submit",class:"btn-primary",disabled:n.savingSimulator},[n.savingSimulator?(a(),e("i",jl)):(a(),e("span",Hl,f(n.editingSimulator?"Обнови":"Създай"),1))],8,El)])],32)])])):y("",!0),n.showParticipants?(a(),e("div",{key:5,class:"modal-overlay",onClick:o[60]||(o[60]=(...a)=>n.closeParticipants&&n.closeParticipants(...a))},[s("div",{class:"modal-content",onClick:o[59]||(o[59]=t(()=>{},["stop"]))},[s("div",Nl,[o[233]||(o[233]=s("h3",null,"Участници в турнира",-1)),s("button",{onClick:o[57]||(o[57]=(...a)=>n.closeParticipants&&n.closeParticipants(...a)),class:"modal-close"},o[232]||(o[232]=[s("i",{class:"fas fa-times"},null,-1)]))]),s("div",Gl,[n.selectedTournament?(a(),e("div",Ol,[s("h4",null,f(n.selectedTournament.name),1),s("p",null,f(n.selectedTournament.description),1),s("div",Xl,[s("span",null,"Участници: "+f(n.participants.length)+"/"+f(n.selectedTournament.max_participants),1),s("span",null,"Награда: "+f(n.selectedTournament.prize)+" токена",1),s("span",null,"Цена за записване: "+f(n.selectedTournament.entry_fee||0)+" токена",1)])])):y("",!0),n.loadingParticipants?(a(),e("div",Yl,o[234]||(o[234]=[s("i",{class:"fas fa-spinner fa-spin"},null,-1),s("span",null,"Зареждане на участници...",-1)]))):0===n.participants.length?(a(),e("div",Kl,o[235]||(o[235]=[s("i",{class:"fas fa-users-slash"},null,-1),s("span",null,"Няма записани участници",-1)]))):(a(),e("div",Jl,[o[237]||(o[237]=s("div",{class:"table-header"},[s("div",{class:"col-username"},"Потребител"),s("div",{class:"col-tokens-paid"},"Платени токени"),s("div",{class:"col-registered-at"},"Дата на записване")],-1)),(a(!0),e(m,null,p(n.participants,l=>(a(),e("div",{key:l.id,class:"table-row"},[s("div",Ql,[o[236]||(o[236]=s("i",{class:"fas fa-user"},null,-1)),v(" "+f(l.username),1)]),s("div",Wl,f(l.tokens_paid)+" токена ",1),s("div",Zl,f(n.formatDate(l.registered_at)),1)]))),128))]))]),s("div",at,[s("button",{onClick:o[58]||(o[58]=(...a)=>n.closeParticipants&&n.closeParticipants(...a)),class:"btn-secondary"}," Затвори ")])])])):y("",!0),n.showCreateItem?(a(),e("div",{key:6,class:"modal-overlay",onClick:o[79]||(o[79]=(...a)=>n.closeCreateItem&&n.closeCreateItem(...a))},[s("div",{class:"modal-content",onClick:o[78]||(o[78]=t(()=>{},["stop"]))},[s("div",et,[s("h3",null,f(n.editingShopItem?"Редактиране на продукт":"Създаване на продукт"),1),s("button",{onClick:o[61]||(o[61]=(...a)=>n.closeCreateItem&&n.closeCreateItem(...a)),class:"modal-close"},o[238]||(o[238]=[s("i",{class:"fas fa-times"},null,-1)]))]),s("form",{onSubmit:o[77]||(o[77]=t((...a)=>n.saveShopItem&&n.saveShopItem(...a),["prevent"])),class:"modal-body"},[s("div",st,[o[239]||(o[239]=s("label",{class:"form-label"},"Име на продукта",-1)),g(s("input",{"onUpdate:modelValue":o[62]||(o[62]=a=>n.shopItemForm.title=a),type:"text",class:"form-input",required:""},null,512),[[k,n.shopItemForm.title]])]),s("div",lt,[o[240]||(o[240]=s("label",{class:"form-label"},"Описание",-1)),g(s("textarea",{"onUpdate:modelValue":o[63]||(o[63]=a=>n.shopItemForm.description=a),class:"form-textarea",rows:"4",required:""},null,512),[[k,n.shopItemForm.description]])]),s("div",tt,[s("div",ot,[o[242]||(o[242]=s("label",{class:"form-label"},"Категория",-1)),g(s("select",{"onUpdate:modelValue":o[64]||(o[64]=a=>n.shopItemForm.category=a),class:"form-select"},o[241]||(o[241]=[s("option",{value:"experience"},"Преживяване",-1),s("option",{value:"equipment"},"Оборудване",-1),s("option",{value:"training"},"Обучение",-1),s("option",{value:"premium"},"Премиум",-1)]),512),[[h,n.shopItemForm.category]])]),s("div",it,[o[243]||(o[243]=s("label",{class:"form-label"},"Цена (токени)",-1)),g(s("input",{"onUpdate:modelValue":o[65]||(o[65]=a=>n.shopItemForm.price=a),type:"number",class:"form-input",min:"1",required:""},null,512),[[k,n.shopItemForm.price,void 0,{number:!0}]])])]),s("div",nt,[s("div",ct,[o[244]||(o[244]=s("label",{class:"form-label"},"Икона",-1)),g(s("input",{"onUpdate:modelValue":o[66]||(o[66]=a=>n.shopItemForm.icon=a),type:"text",class:"form-input",placeholder:"🎁"},null,512),[[k,n.shopItemForm.icon]])]),s("div",rt,[o[245]||(o[245]=s("label",{class:"form-label"},"Наличност (-1 за неограничено)",-1)),g(s("input",{"onUpdate:modelValue":o[67]||(o[67]=a=>n.shopItemForm.stock=a),type:"number",class:"form-input",min:"-1"},null,512),[[k,n.shopItemForm.stock,void 0,{number:!0}]])])]),s("div",dt,[s("label",ut,[g(s("input",{"onUpdate:modelValue":o[68]||(o[68]=a=>n.shopItemForm.is_active=a),type:"checkbox"},null,512),[[C,n.shopItemForm.is_active]]),o[246]||(o[246]=s("span",{class:"checkbox-custom"},null,-1)),o[247]||(o[247]=v(" Активен продукт "))])]),s("div",mt,[o[248]||(o[248]=s("label",{class:"form-label"},"URL на изображението",-1)),g(s("input",{"onUpdate:modelValue":o[69]||(o[69]=a=>n.shopItemForm.image_url=a),type:"text",class:"form-input",placeholder:"https://example.com/image.jpg"},null,512),[[k,n.shopItemForm.image_url]])]),s("div",pt,[o[249]||(o[249]=s("label",{class:"form-label"},"Функции (разделени със запетая)",-1)),g(s("textarea",{"onUpdate:modelValue":o[70]||(o[70]=a=>n.shopItemForm.features=a),class:"form-textarea",rows:"3",placeholder:"Функция 1, Функция 2, Функция 3"},null,512),[[k,n.shopItemForm.features]])]),s("div",vt,[s("div",ft,[o[250]||(o[250]=s("label",{class:"form-label"},"Оригинална цена",-1)),g(s("input",{"onUpdate:modelValue":o[71]||(o[71]=a=>n.shopItemForm.original_price=a),type:"number",class:"form-input",min:"0"},null,512),[[k,n.shopItemForm.original_price,void 0,{number:!0}]])]),s("div",yt,[o[251]||(o[251]=s("label",{class:"form-label"},"Отстъпка (%)",-1)),g(s("input",{"onUpdate:modelValue":o[72]||(o[72]=a=>n.shopItemForm.discount=a),type:"number",class:"form-input",min:"0",max:"100"},null,512),[[k,n.shopItemForm.discount,void 0,{number:!0}]])])]),s("div",bt,[s("div",gt,[s("label",kt,[g(s("input",{"onUpdate:modelValue":o[73]||(o[73]=a=>n.shopItemForm.popular=a),type:"checkbox"},null,512),[[C,n.shopItemForm.popular]]),o[252]||(o[252]=s("span",{class:"checkbox-custom"},null,-1)),o[253]||(o[253]=v(" Популярен продукт "))])]),s("div",ht,[s("label",Ct,[g(s("input",{"onUpdate:modelValue":o[74]||(o[74]=a=>n.shopItemForm.premium=a),type:"checkbox"},null,512),[[C,n.shopItemForm.premium]]),o[254]||(o[254]=s("span",{class:"checkbox-custom"},null,-1)),o[255]||(o[255]=v(" Premium продукт "))])]),s("div",_t,[s("label",wt,[g(s("input",{"onUpdate:modelValue":o[75]||(o[75]=a=>n.shopItemForm.limited=a),type:"checkbox"},null,512),[[C,n.shopItemForm.limited]]),o[256]||(o[256]=s("span",{class:"checkbox-custom"},null,-1)),o[257]||(o[257]=v(" Ограничена наличност "))])])]),s("div",Ft,[s("button",{type:"button",onClick:o[76]||(o[76]=(...a)=>n.closeCreateItem&&n.closeCreateItem(...a)),class:"btn-secondary"}," Отказ "),s("button",{type:"submit",class:"btn-primary",disabled:n.savingShopItem},[n.savingShopItem?(a(),e("i",xt)):(a(),e("span",St,f(n.editingShopItem?"Обнови":"Създай"),1))],8,Tt)])],32)])])):y("",!0),n.showAddTokens?(a(),e("div",{key:7,class:"modal-overlay",onClick:o[86]||(o[86]=(...a)=>n.closeAddTokens&&n.closeAddTokens(...a))},[s("div",{class:"modal-content",onClick:o[85]||(o[85]=t(()=>{},["stop"]))},[s("div",Ut,[o[259]||(o[259]=s("h3",null,"Добавяне на токени",-1)),s("button",{onClick:o[80]||(o[80]=(...a)=>n.closeAddTokens&&n.closeAddTokens(...a)),class:"modal-close"},o[258]||(o[258]=[s("i",{class:"fas fa-times"},null,-1)]))]),s("form",{onSubmit:o[84]||(o[84]=t((...a)=>n.saveTokens&&n.saveTokens(...a),["prevent"])),class:"modal-body"},[n.selectedUser?(a(),e("div",At,[o[261]||(o[261]=s("i",{class:"fas fa-user-circle"},null,-1)),s("div",null,[s("div",It,f(n.selectedUser.username),1),s("div",Pt,[v(" Текущи токени: "+f(n.calculateUserTokens(n.selectedUser))+" ",1),o[260]||(o[260]=s("br",null,null,-1)),v(" Изиграно време: "+f(Math.floor((n.selectedUser.total_time_played||0)/60))+"ч от "+f(n.selectedUser.sessions_played||0)+" сесии ",1)])])])):y("",!0),s("div",Vt,[o[262]||(o[262]=s("label",{class:"form-label"},"Брой токени за добавяне",-1)),g(s("input",{"onUpdate:modelValue":o[81]||(o[81]=a=>n.tokenForm.amount=a),type:"number",class:"form-input",min:"1",required:""},null,512),[[k,n.tokenForm.amount,void 0,{number:!0}]])]),s("div",qt,[o[263]||(o[263]=s("label",{class:"form-label"},"Описание",-1)),g(s("input",{"onUpdate:modelValue":o[82]||(o[82]=a=>n.tokenForm.description=a),type:"text",class:"form-input",placeholder:"Причина за добавянето"},null,512),[[k,n.tokenForm.description]])]),s("div",$t,[s("button",{type:"button",onClick:o[83]||(o[83]=(...a)=>n.closeAddTokens&&n.closeAddTokens(...a)),class:"btn-secondary"}," Отказ "),s("button",{type:"submit",class:"btn-primary",disabled:n.savingTokens},[n.savingTokens?(a(),e("i",zt)):(a(),e("span",Dt,"Добави токени"))],8,Rt)])],32)])])):y("",!0),n.showCreateAcademyCourse?(a(),e("div",{key:8,class:"modal-overlay",onClick:o[100]||(o[100]=(...a)=>n.closeCreateAcademyCourse&&n.closeCreateAcademyCourse(...a))},[s("div",{class:"modal-content",onClick:o[99]||(o[99]=t(()=>{},["stop"]))},[s("div",Bt,[s("h3",null,f(n.editingAcademyCourse?"Редактиране на курс":"Нов курс"),1),s("button",{onClick:o[87]||(o[87]=(...a)=>n.closeCreateAcademyCourse&&n.closeCreateAcademyCourse(...a)),class:"modal-close"},o[264]||(o[264]=[s("i",{class:"fas fa-times"},null,-1)]))]),s("form",{onSubmit:o[98]||(o[98]=t((...a)=>n.saveAcademyCourse&&n.saveAcademyCourse(...a),["prevent"])),class:"modal-body"},[s("div",Lt,[o[265]||(o[265]=s("label",{class:"form-label"},"Заглавие на курса *",-1)),g(s("input",{"onUpdate:modelValue":o[88]||(o[88]=a=>n.academyCourseForm.title=a),type:"text",class:"form-input",required:"",placeholder:"Основи на Sim Racing"},null,512),[[k,n.academyCourseForm.title]])]),s("div",Mt,[o[266]||(o[266]=s("label",{class:"form-label"},"Описание *",-1)),g(s("textarea",{"onUpdate:modelValue":o[89]||(o[89]=a=>n.academyCourseForm.description=a),class:"form-textarea",rows:"4",required:"",placeholder:"Подробно описание на курса..."},null,512),[[k,n.academyCourseForm.description]])]),s("div",Et,[s("div",jt,[o[267]||(o[267]=s("label",{class:"form-label"},"Цена в токени *",-1)),g(s("input",{"onUpdate:modelValue":o[90]||(o[90]=a=>n.academyCourseForm.price_tokens=a),type:"number",class:"form-input",min:"1",required:"",placeholder:"200"},null,512),[[k,n.academyCourseForm.price_tokens,void 0,{number:!0}]])]),s("div",Ht,[o[268]||(o[268]=s("label",{class:"form-label"},"Продължителност",-1)),g(s("input",{"onUpdate:modelValue":o[91]||(o[91]=a=>n.academyCourseForm.duration=a),type:"text",class:"form-input",placeholder:"45 минути"},null,512),[[k,n.academyCourseForm.duration]])])]),s("div",Nt,[s("div",Gt,[o[270]||(o[270]=s("label",{class:"form-label"},"Трудност",-1)),g(s("select",{"onUpdate:modelValue":o[92]||(o[92]=a=>n.academyCourseForm.difficulty=a),class:"form-select"},o[269]||(o[269]=[s("option",{value:"beginner"},"За начинаещи",-1),s("option",{value:"intermediate"},"За напреднали",-1),s("option",{value:"advanced"},"За експерти",-1)]),512),[[h,n.academyCourseForm.difficulty]])]),s("div",Ot,[o[272]||(o[272]=s("label",{class:"form-label"},"Категория",-1)),g(s("select",{"onUpdate:modelValue":o[93]||(o[93]=a=>n.academyCourseForm.category_id=a),class:"form-select"},[o[271]||(o[271]=s("option",{value:""},"Изберете категория",-1)),(a(!0),e(m,null,p(n.academyCategories,s=>(a(),e("option",{key:s.id,value:s.id},f(s.name),9,Xt))),128))],512),[[h,n.academyCourseForm.category_id]])])]),s("div",Yt,[o[273]||(o[273]=s("label",{class:"form-label"},"URL на thumbnail изображението",-1)),g(s("input",{"onUpdate:modelValue":o[94]||(o[94]=a=>n.academyCourseForm.thumbnail_url=a),type:"url",class:"form-input",placeholder:"https://example.com/course-thumbnail.jpg"},null,512),[[k,n.academyCourseForm.thumbnail_url]])]),s("div",Kt,[o[274]||(o[274]=s("label",{class:"form-label"},"YouTube URL (unlisted) *",-1)),g(s("input",{"onUpdate:modelValue":o[95]||(o[95]=a=>n.academyCourseForm.youtube_url=a),type:"url",class:"form-input",required:"",placeholder:"https://www.youtube.com/watch?v=..."},null,512),[[k,n.academyCourseForm.youtube_url]]),o[275]||(o[275]=s("small",{class:"form-hint"},"Използвайте unlisted YouTube видео за курса",-1))]),s("div",Jt,[s("label",Qt,[g(s("input",{"onUpdate:modelValue":o[96]||(o[96]=a=>n.academyCourseForm.is_active=a),type:"checkbox"},null,512),[[C,n.academyCourseForm.is_active]]),o[276]||(o[276]=s("span",{class:"checkbox-custom"},null,-1)),o[277]||(o[277]=v(" Активен курс "))])]),s("div",Wt,[s("button",{type:"button",onClick:o[97]||(o[97]=(...a)=>n.closeCreateAcademyCourse&&n.closeCreateAcademyCourse(...a)),class:"btn-secondary"}," Отказ "),s("button",{type:"submit",class:"btn-primary",disabled:n.savingAcademyCourse},[n.savingAcademyCourse?(a(),e("i",ao)):(a(),e("span",eo,f(n.editingAcademyCourse?"Обнови":"Създай"),1))],8,Zt)])],32)])])):y("",!0),n.showCreateAcademyCategory?(a(),e("div",{key:9,class:"modal-overlay",onClick:o[108]||(o[108]=(...a)=>n.closeCreateAcademyCategory&&n.closeCreateAcademyCategory(...a))},[s("div",{class:"modal-content",onClick:o[107]||(o[107]=t(()=>{},["stop"]))},[s("div",so,[s("h3",null,f(n.editingAcademyCategory?"Редактиране на категория":"Нова категория"),1),s("button",{onClick:o[101]||(o[101]=(...a)=>n.closeCreateAcademyCategory&&n.closeCreateAcademyCategory(...a)),class:"modal-close"},o[278]||(o[278]=[s("i",{class:"fas fa-times"},null,-1)]))]),s("form",{onSubmit:o[106]||(o[106]=t((...a)=>n.saveAcademyCategory&&n.saveAcademyCategory(...a),["prevent"])),class:"modal-body"},[s("div",lo,[o[279]||(o[279]=s("label",{class:"form-label"},"Име на категорията *",-1)),g(s("input",{"onUpdate:modelValue":o[102]||(o[102]=a=>n.academyCategoryForm.name=a),type:"text",class:"form-input",required:"",placeholder:"Основи на управлението"},null,512),[[k,n.academyCategoryForm.name]])]),s("div",to,[o[280]||(o[280]=s("label",{class:"form-label"},"Описание",-1)),g(s("textarea",{"onUpdate:modelValue":o[103]||(o[103]=a=>n.academyCategoryForm.description=a),class:"form-textarea",rows:"3",placeholder:"Кратко описание на категорията..."},null,512),[[k,n.academyCategoryForm.description]])]),s("div",oo,[o[281]||(o[281]=s("label",{class:"form-label"},"Икона (Font Awesome класс)",-1)),g(s("input",{"onUpdate:modelValue":o[104]||(o[104]=a=>n.academyCategoryForm.icon=a),type:"text",class:"form-input",placeholder:"fas fa-steering-wheel"},null,512),[[k,n.academyCategoryForm.icon]]),o[282]||(o[282]=s("small",{class:"form-hint"},"Използвайте Font Awesome 5 класове (например: fas fa-car, fas fa-tachometer-alt)",-1))]),s("div",io,[s("button",{type:"button",onClick:o[105]||(o[105]=(...a)=>n.closeCreateAcademyCategory&&n.closeCreateAcademyCategory(...a)),class:"btn-secondary"}," Отказ "),s("button",{type:"submit",class:"btn-primary",disabled:n.savingAcademyCategory},[n.savingAcademyCategory?(a(),e("i",co)):(a(),e("span",ro,f(n.editingAcademyCategory?"Обнови":"Създай"),1))],8,no)])],32)])])):y("",!0)])}],["__scopeId","data-v-768018b6"]]);export{uo as default};
